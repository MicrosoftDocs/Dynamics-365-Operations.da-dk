---
title: Optimere BYOD-planlagte batchjob
description: I dette emne forklares det, hvordan du kan optimere ydeevnen, når du bruger funktionen Bring din egen database (BYOD) sammen med Microsoft Dynamics 365 Human Resources.
author: andreabichsel
ms.date: 08/17/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.search.scope: Human Resources
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anbichse
ms.search.validFrom: 2020-08-10
ms.dyn365.ops.version: Platform update 36
ms.openlocfilehash: ed3ebbf09403090a1173c3cda1a4b11b74419b90
ms.sourcegitcommit: 879ee8a10e6158885795dce4b3db5077540eec41
ms.translationtype: HT
ms.contentlocale: da-DK
ms.lasthandoff: 05/18/2021
ms.locfileid: "6052667"
---
# <a name="optimize-byod-scheduled-batch-jobs"></a><span data-ttu-id="3a2c2-103">Optimere BYOD-planlagte batchjob</span><span class="sxs-lookup"><span data-stu-id="3a2c2-103">Optimize BYOD scheduled batch jobs</span></span>

[!include [Applies to Human Resources](../includes/applies-to-hr.md)]

<span data-ttu-id="3a2c2-104">I dette emne forklares det, hvordan du kan optimere ydeevnen, når du bruger funktionen Bring din egen database (BYOD).</span><span class="sxs-lookup"><span data-stu-id="3a2c2-104">This topic explains how to optimize performance when you're using the bring your own database (BYOD) feature.</span></span> <span data-ttu-id="3a2c2-105">Yderligere oplysninger om BYOD finder du i afsnittet [Bruge din egen database (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="3a2c2-105">For more information about BYOD, see [Bring your own database (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

## <a name="performance-considerations-for-data-export"></a><span data-ttu-id="3a2c2-106">Overvejelser om ydeevne for dataeksport</span><span class="sxs-lookup"><span data-stu-id="3a2c2-106">Performance considerations for data export</span></span>

<span data-ttu-id="3a2c2-107">Når enheder er publiceret til destinationsdatabasen, kan du bruge eksportfunktionen i arbejdsområdet **Dataadministration** til at flytte data.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-107">After entities are published to the destination database, you can use the Export function in the **Data management** workspace to move data.</span></span> <span data-ttu-id="3a2c2-108">Med eksportfunktionen kan du definere et job til dataflytning, der indeholder en eller flere enheder.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-108">The Export function lets you define a Data movement job that contains one or more entities.</span></span> <span data-ttu-id="3a2c2-109">Du kan finde flere oplysninger om dataeksport i [Oversigt over dataimport og eksportjob](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="3a2c2-109">For more information about data export, see [Data import and export jobs overview](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="3a2c2-110">Du kan bruge siden **Eksportér** til at eksportere data til forskellige destinationsdataformater, f.eks. en CSV-fil (kommaseparerede værdier).</span><span class="sxs-lookup"><span data-stu-id="3a2c2-110">You can use the **Export** page to export data into different target data formats, such as a comma-separated values (CSV) file.</span></span> <span data-ttu-id="3a2c2-111">Denne side understøtter også SQL-databaser som en anden destination.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-111">This page also supports SQL databases as another destination.</span></span>

<span data-ttu-id="3a2c2-112">Du kan oprette et dataprojekt med flere enheder og bruge et batchjob til at planlægge dette dataprojekt til kørsel.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-112">You can create a data project that has multiple entities and use a batch job to schedule that data project to run.</span></span> <span data-ttu-id="3a2c2-113">Hvis du vælger indstillingen **Eksportér i batch**, kan du planlægge, at dataeksportjobbet skal køres med jævne mellemrum.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-113">If you select the **Export in batch** option, you can schedule the data export job to run periodically.</span></span>

<span data-ttu-id="3a2c2-114">Du skal være omhyggelig, når du føjer flere enheder til et eksportprojekt, for at bevare den overordnede pålidelighed i BYOD-eksporten.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-114">To help preserve the overall reliability of the BYOD export, you must be careful when you add multiple entities to an export project.</span></span> <span data-ttu-id="3a2c2-115">Når du bestemmer antallet af enheder, der skal føjes til det samme projekt, skal du overveje følgende parametre:</span><span class="sxs-lookup"><span data-stu-id="3a2c2-115">When you're determining the number of entities to add to the same project, consider the following parameters:</span></span>

- <span data-ttu-id="3a2c2-116">Kompleksiteten af enhederne</span><span class="sxs-lookup"><span data-stu-id="3a2c2-116">The complexity of the entities</span></span>
- <span data-ttu-id="3a2c2-117">Den forventede datamængde pr. enhed</span><span class="sxs-lookup"><span data-stu-id="3a2c2-117">The expected data volume per entity</span></span>
- <span data-ttu-id="3a2c2-118">Den samlede tid, der skal bruges til at udføre eksporten på jobniveau</span><span class="sxs-lookup"><span data-stu-id="3a2c2-118">The overall time that will be required to complete the export at the job level</span></span>

<span data-ttu-id="3a2c2-119">Hvis du vil opnå den bedste ydeevne, skal du undgå at tilføje hundredvis af enheder i et enkelt projekt.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-119">For the best performance, avoid adding hundreds of entities to a single project.</span></span> <span data-ttu-id="3a2c2-120">Det anbefales, at du opretter flere job, der hver især indeholder færre enheder.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-120">We recommend that you create multiple jobs, each of which contains fewer entities.</span></span>

## <a name="scheduling-byod-batch-jobs"></a><span data-ttu-id="3a2c2-121">Planlægning af BYOD-batchjob</span><span class="sxs-lookup"><span data-stu-id="3a2c2-121">Scheduling BYOD batch jobs</span></span>

<span data-ttu-id="3a2c2-122">For at reducere påvirkningen hos brugere af Microsoft Dynamics 365 Human Resources, skal du køre BYOD-batchjob om natten eller efter arbejdstid.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-122">To help reduce the impact on users of Microsoft Dynamics 365 Human Resources, run BYOD batch jobs at night or after hours.</span></span> <span data-ttu-id="3a2c2-123">Sørg for at kontrollere tidszonen for tilbagevendende batchjob.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-123">Be sure to check the time zone for recurring batch jobs.</span></span> <span data-ttu-id="3a2c2-124">Nogle batchjob bruger muligvis Pacific Standard Time (PST).</span><span class="sxs-lookup"><span data-stu-id="3a2c2-124">Some batch jobs might use Pacific Standard Time (PST).</span></span>

<span data-ttu-id="3a2c2-125">Som en hjælp til at undgå problemer med ydeevnen skal du overveje følgende faktorer, når du konfigurerer planlægningsfrekvensen for BYOD-batchjob:</span><span class="sxs-lookup"><span data-stu-id="3a2c2-125">To help avoid performance issues, consider the following factors when you configure the scheduling frequency for BYOD batch jobs:</span></span>

- <span data-ttu-id="3a2c2-126">Den tid, det tager at udføre hvert batchjob</span><span class="sxs-lookup"><span data-stu-id="3a2c2-126">The time that is required to complete each batch job</span></span>
- <span data-ttu-id="3a2c2-127">Forretningsbehovet for dataene i BYOD</span><span class="sxs-lookup"><span data-stu-id="3a2c2-127">The business need for the data in BYOD</span></span>

<span data-ttu-id="3a2c2-128">Angiv frekvensen for hvert batchjob til en værdi, der sikrer, at jobbet kan fuldføres korrekt før den næste planlagte kørselstid.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-128">Set the frequency for each batch job to a value that ensures that the job can be completed well before its next scheduled run time.</span></span> <span data-ttu-id="3a2c2-129">Undgå at køre flere job parallelt, da denne fremgangsmåde kan have en negativ indvirkning på ydeevnen for Human Resources.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-129">Avoid running multiple jobs in parallel, because this approach can negatively affect the performance of Human Resources.</span></span>

<span data-ttu-id="3a2c2-130">Hvis du vil opnå den bedste ydelse, skal du altid bruge indstillingen **Eksportér i batch** på siden **Eksportér** til at planlægge BYOD.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-130">For the best performance, always use the **Export in batch** option on the **Export** page to schedule BYOD batch jobs.</span></span> <span data-ttu-id="3a2c2-131">Undgå at planlægge tilbagevendende eksport ved **Administrer \> Administrer tilbagevendende datajobs**.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-131">Avoid scheduling recurring exports at **Manage \> Manage recurring data jobs**.</span></span>

## <a name="incremental-export"></a><span data-ttu-id="3a2c2-132">Trinvis eksport</span><span class="sxs-lookup"><span data-stu-id="3a2c2-132">Incremental export</span></span>

<span data-ttu-id="3a2c2-133">Når du tilføjer en enhed til dataeksport, kan du enten foretage en trinvis push (eksport) eller en fuld push.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-133">When you add an entity for data export, you can do either an incremental push (export) or a full push.</span></span> <span data-ttu-id="3a2c2-134">En fuld push sletter alle eksisterende poster fra en enhed i BYOD-databasen.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-134">A full push deletes all existing records from an entity in the BYOD database.</span></span> <span data-ttu-id="3a2c2-135">Derefter indsættes det aktuelle sæt poster fra Human Resources-enheden.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-135">It then inserts the current set of records from the Human Resources entity.</span></span>

<span data-ttu-id="3a2c2-136">Hvis du vil udføre en trinvis push, skal du aktivere registrering af ændringer for de enkelte enheder på siden **Enheder**.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-136">To do an incremental push, you must turn on change tracking for each entity on the **Entities** page.</span></span> <span data-ttu-id="3a2c2-137">Du kan finde flere oplysninger under [Aktivere ændringssporing for enheder](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="3a2c2-137">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="3a2c2-138">Hvis du vælger trinvis push, er den første push altid en fuld push.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-138">If you select an incremental push, the first push is always a full push.</span></span> <span data-ttu-id="3a2c2-139">SQL registrerer ændringer fra denne første fulde push.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-139">SQL tracks changes from this first full push.</span></span> <span data-ttu-id="3a2c2-140">Når der indsættes en ny post, eller når en post opdateres eller slettes, afspejles ændringen i destinationsenheden.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-140">When a new record is inserted, or when a record is updated or deleted, the change is reflected in the destination entity.</span></span>

## <a name="time-outs"></a><span data-ttu-id="3a2c2-141">Timeout</span><span class="sxs-lookup"><span data-stu-id="3a2c2-141">Time-outs</span></span>

<span data-ttu-id="3a2c2-142">Følgende er standardtimeout for BYOD-eksporter:</span><span class="sxs-lookup"><span data-stu-id="3a2c2-142">Here are the default time-outs for BYOD exports:</span></span>

- <span data-ttu-id="3a2c2-143">Ti minutter for afkortende handlinger</span><span class="sxs-lookup"><span data-stu-id="3a2c2-143">Ten minutes for truncation operations</span></span>
- <span data-ttu-id="3a2c2-144">En time for masseindsættelser</span><span class="sxs-lookup"><span data-stu-id="3a2c2-144">One hour for bulk insert operations</span></span>

<span data-ttu-id="3a2c2-145">Når mængden er høj, er disse timeoutindstillinger muligvis ikke tilstrækkelige.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-145">When volumes are high, these time-out settings might not be sufficient.</span></span> <span data-ttu-id="3a2c2-146">Hvis du vil opdatere dem, skal du gå til **Dataadministration \> Rammeparametre \> Brug din egen database**.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-146">To update them, go to **Data management \> Framework parameters \> Bring your own database**.</span></span> <span data-ttu-id="3a2c2-147">Disse timeout er firmaspecifikke og skal angives separat for hvert firma.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-147">These time-outs are company-specific and must be set separately for each company.</span></span>

## <a name="known-limitations"></a><span data-ttu-id="3a2c2-148">Kendte begrænsninger</span><span class="sxs-lookup"><span data-stu-id="3a2c2-148">Known limitations</span></span>

<span data-ttu-id="3a2c2-149">BYOD-funktionen har følgende begrænsninger:</span><span class="sxs-lookup"><span data-stu-id="3a2c2-149">The BYOD feature has the following limitations:</span></span>

- <span data-ttu-id="3a2c2-150">Der må ikke være aktive låse i databasen under synkronisering.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-150">There should be no active locks on your database during synchronization.</span></span> <span data-ttu-id="3a2c2-151">Aktive låse kan forårsage langsomme skrivninger eller endda manglende eksport af data til din Azure SQL-database.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-151">Active locks can cause slow writes or even failure to export data to your Azure SQL database.</span></span>
- <span data-ttu-id="3a2c2-152">Du kan ikke eksportere sammensatte enheder til din egen-database.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-152">You can't export composite entities into your own database.</span></span> <span data-ttu-id="3a2c2-153">I øjeblikket understøttes sammensatte enheder ikke.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-153">Currently, composite entities aren't supported.</span></span> <span data-ttu-id="3a2c2-154">Du skal eksportere de enkelte enheder, der udgør den sammensatte enhed.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-154">You must export individual entities that make up the composite entity.</span></span> <span data-ttu-id="3a2c2-155">Du kan dog eksportere begge enheder i det samme dataprojekt.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-155">However, you can export both entities in the same data project.</span></span>
- <span data-ttu-id="3a2c2-156">Enheder, der ikke har entydige nøgler, kan ikke eksporteres ved hjælp af trinvis push.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-156">Entities that don't have unique keys can't be exported by using incremental push.</span></span> <span data-ttu-id="3a2c2-157">Du kan komme ud for denne begrænsning, især når du forsøger at eksportere poster gradvist fra nogle få enheder, der er færdiggjort.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-157">You might face this limitation especially when you try to incrementally export records from a few ready-made entities.</span></span> <span data-ttu-id="3a2c2-158">Da disse enheder er designet til at muliggøre import af data, har de ikke en entydig nøgle.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-158">Because these entities were designed to enable the import of data, they don't have a unique key.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="3a2c2-159">Fejlfinding</span><span class="sxs-lookup"><span data-stu-id="3a2c2-159">Troubleshooting</span></span>

### <a name="incremental-push-doesnt-work-correctly"></a><span data-ttu-id="3a2c2-160">Trinvis push fungerer ikke korrekt</span><span class="sxs-lookup"><span data-stu-id="3a2c2-160">Incremental push doesn't work correctly</span></span>

<span data-ttu-id="3a2c2-161">**Problem:** Når der foretages en fuld push for en enhed, kan du se et stort sæt poster i BYOD, når du bruger en **select**-sætning.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-161">**Issue:** When a full push occurs for an entity, you see a large set of records in BYOD when you use a **select** statement.</span></span> <span data-ttu-id="3a2c2-162">Men når du foretager en trinvis push, får du kun vist nogle få poster i BYOD.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-162">However, when you do an incremental push, you see only a few records in BYOD.</span></span> <span data-ttu-id="3a2c2-163">Det ser ud til, at den trinvise push slettede alle poster og kun tilføjede de ændrede poster i BYOD.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-163">It seems as though the incremental push deleted all the records and added only the changed records in BYOD.</span></span>

<span data-ttu-id="3a2c2-164">**Løsning:** SQL-ændringssporingstabellerne er muligvis ikke i den forventede tilstand.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-164">**Solution:** The SQL change tracking tables might not be in the expected state.</span></span> <span data-ttu-id="3a2c2-165">I tilfælde af denne type anbefales det, at du slår sporing af ændringer fra for enheden og derefter aktiverer den igen.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-165">In cases of this type, we recommend that you turn off change tracking for the entity and then turn it back on.</span></span> <span data-ttu-id="3a2c2-166">Du kan finde flere oplysninger under [Aktivere ændringssporing for enheder](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="3a2c2-166">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

### <a name="staging-tables-arent-clearing"></a><span data-ttu-id="3a2c2-167">Midlertidige lagringstabeller ryddes ikke</span><span class="sxs-lookup"><span data-stu-id="3a2c2-167">Staging tables aren't clearing</span></span>

<span data-ttu-id="3a2c2-168">**Problem:** Når der bruges midlertidig lagring til projektet, ryddes de midlertidige lagringstabeller ikke korrekt.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-168">**Issue:** When using staging for the project, the staging tables don't clear out correctly.</span></span> <span data-ttu-id="3a2c2-169">Dataene i tabellerne fortsætter med at stige, hvilket giver problemer med ydeevnen.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-169">The data in the tables then continues to grow, causing performance issues.</span></span>

<span data-ttu-id="3a2c2-170">**Løsning:** Historikken over syv dage vedligeholdes i de midlertidige lagringstabeller.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-170">**Solution:** Seven days of history is maintained in the staging tables.</span></span> <span data-ttu-id="3a2c2-171">Historikdata, der er ældre end syv dage, ryddes automatisk fra de midlertidige lagringstabeller af batchjobbet **Import/eksport af oprydning af midlertidig lagring**.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-171">Historical data older than seven days is automatically cleared from the staging tables by the **Import export staging cleanup** batch job.</span></span> <span data-ttu-id="3a2c2-172">Hvis jobbet går i stå, ryddes tabellerne ikke korrekt.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-172">If this job gets stuck, the tables won't clear out correctly.</span></span> <span data-ttu-id="3a2c2-173">Hvis du genstarter dette batchjob, fortsætter processen, så de midlertidige lagringstabeller ryddes automatisk.</span><span class="sxs-lookup"><span data-stu-id="3a2c2-173">Restarting this batch job will continue the process to automatically clear out the staging tables.</span></span>

## <a name="see-also"></a><span data-ttu-id="3a2c2-174">Se også</span><span class="sxs-lookup"><span data-stu-id="3a2c2-174">See also</span></span>

[<span data-ttu-id="3a2c2-175">Oversigt over datastyring</span><span class="sxs-lookup"><span data-stu-id="3a2c2-175">Data management overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-entities-data-packages.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="3a2c2-176">Brug din egen database (BYOD)</span><span class="sxs-lookup"><span data-stu-id="3a2c2-176">Bring your own database (BYOD)</span></span>](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="3a2c2-177">Oversigt over dataimport- og -eksportjob</span><span class="sxs-lookup"><span data-stu-id="3a2c2-177">Data import and export jobs overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="3a2c2-178">Aktivere ændringssporing for enheder</span><span class="sxs-lookup"><span data-stu-id="3a2c2-178">Enable change tracking for entities</span></span>](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
