---
title: Konfigurer ER-formater for at bruge de parametre, der er angivet for den enkelte juridiske enhed
description: I dette emne forklares det, hvordan du kan konfigurere Elektroniske rapporteringsformater til at bruge de parametre, der er angivet for den enkelte juridiske enhed.
author: NickSelin
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 0af3e1d589fd99cc722d8aedeb9596388a9e2e8c
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: da-DK
ms.lasthandoff: 05/11/2021
ms.locfileid: "6018280"
---
# <a name="configure-er-formats-to-use-parameters-that-are-specified-per-legal-entity"></a><span data-ttu-id="0c23a-103">Konfigurer ER-formater for at bruge de parametre, der er angivet for den enkelte juridiske enhed</span><span class="sxs-lookup"><span data-stu-id="0c23a-103">Configure ER formats to use parameters that are specified per legal entity</span></span>

[!include[banner](../includes/banner.md)]

## <a name="overview"></a><span data-ttu-id="0c23a-104">Oversigt</span><span class="sxs-lookup"><span data-stu-id="0c23a-104">Overview</span></span>

<span data-ttu-id="0c23a-105">I mange af de Elektroniske rapporteringsformater, du kommer til at designe, skal du filtrere data ved hjælp af et sæt værdier, der er specifikke for de enkelte juridiske enheder i din forekomst (f.eks. et sæt momskoder til filtrering af momstransaktioner).</span><span class="sxs-lookup"><span data-stu-id="0c23a-105">In many of the Electronic reporting (ER) formats that you will design, you must filter data by using a set of values that are specific to each legal entity of your instance (for example, a set of tax codes to filter tax transactions).</span></span> <span data-ttu-id="0c23a-106">Når filtrering af denne type i øjeblikket er konfigureret i et ER-format, bruges de værdier, der er afhængige af den juridiske enhed (f.eks. momskoder) i udtryk for ER-formatet, til at angive data filtreringsregler.</span><span class="sxs-lookup"><span data-stu-id="0c23a-106">Currently, when filtering of this type is configured in an ER format, values that are dependent on the legal entity (for example, tax codes) are used in expressions of the ER format to specify data filtering rules.</span></span> <span data-ttu-id="0c23a-107">ER-formatet er derfor gjort specifikt for den juridiske enheds, og hvis du vil generere de nødvendige rapporter, skal du oprette afledte kopier af det oprindelige ER-format for hver juridisk enhed, hvor du skal køre ER-formatet.</span><span class="sxs-lookup"><span data-stu-id="0c23a-107">Therefore, the ER format is made legal entity–specific, and to generate the required reports, you must create derived copies of the original ER format for each legal entity where you have to run the ER format.</span></span> <span data-ttu-id="0c23a-108">Hvert afledte ER-format skal redigeres for at samle de specifikke værdier for juridiske i det, og omorganiseres, når den oprindelige (basis)version er blevet opdateret, eksporteret fra et testmiljø og importeret til et produktionsmiljø, når det skal udrulles med henblik på anvendelse i produktionen osv.</span><span class="sxs-lookup"><span data-stu-id="0c23a-108">Each derived ER format must be edited to bring legal entity–specific values into it, rebased whenever the original (base) version has been updated, exported from a test environment, and imported into a production environment when it must be deployed for production use, and so on.</span></span> <span data-ttu-id="0c23a-109">Vedligeholdelse af denne type af konfigurerede ER-løsninger er derfor kompliceret og tidskrævende af flere årsager:</span><span class="sxs-lookup"><span data-stu-id="0c23a-109">Therefore, maintenance of this type of configured ER solution is complex and time-consuming for several reasons:</span></span>

-   <span data-ttu-id="0c23a-110">Jo flere juridiske enheder der er, des flere ER-formatkonfigurationer skal der vedligeholdes.</span><span class="sxs-lookup"><span data-stu-id="0c23a-110">The more legal entities there are, the more ER format configurations must be maintained.</span></span>
-   <span data-ttu-id="0c23a-111">Vedligeholdelse af ER-konfigurationer kræver, at erhvervsbrugere er bekendt med ER.</span><span class="sxs-lookup"><span data-stu-id="0c23a-111">Maintenance of ER configurations requires that business users have ER knowledge.</span></span>

<span data-ttu-id="0c23a-112">De ER-programspecifikke parametre gør det muligt for superbrugere at konfigurere datafiltreringen i et ER-format, så den er baseret på et sæt abstrakte regler.</span><span class="sxs-lookup"><span data-stu-id="0c23a-112">The ER application-specific parameters feature lets power users configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="0c23a-113">Dette sæt regler kan konfigureres til at bruge de datakilder, der er tilgængelige i et ER-format.</span><span class="sxs-lookup"><span data-stu-id="0c23a-113">This set of rules can be configured to use the data sources that are available in an ER format.</span></span> <span data-ttu-id="0c23a-114">Erhvervsbrugere kan derefter angive de rigtige regler ud over den bevarede ER-ramme ved hjælp af den brugergrænseflade (UI), der genereres automatisk på basis af indstillingerne for det tilsvarende ER-format og de aktuelle oplysninger om den juridiske enhed, du har adgang til i ER-formatets datakilder.</span><span class="sxs-lookup"><span data-stu-id="0c23a-114">Business users can then specify real rules beyond the ER framework by using the user interface (UI) that is automatically generated based on the settings of the corresponding ER format and the current legal entity data that will be accessed by the ER format's data sources.</span></span> <span data-ttu-id="0c23a-115">Regelsættet, der er angivet for et ER-format, kan eksporteres fra Dynamics 365 Finance (Finance)'s aktuelle juridiske enhed for forekomsten.</span><span class="sxs-lookup"><span data-stu-id="0c23a-115">The set of rules that is specified for an ER format can be exported from the current legal entity of the Dynamics 365 Finance (Finance) instance.</span></span> <span data-ttu-id="0c23a-116">Det kan derefter importeres til en anden juridisk enhed af enten den samme Finance-forekomst eller en anden forekomst som et sæt regler for det samme ER-format.</span><span class="sxs-lookup"><span data-stu-id="0c23a-116">It can then be imported into another legal entity of either the same Finance instance or a different instance as a set of rules for the same ER format.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="0c23a-117">Forudsætninger</span><span class="sxs-lookup"><span data-stu-id="0c23a-117">Prerequisites</span></span>

<span data-ttu-id="0c23a-118">For at gennemføre eksemplerne i dette emne, skal du have adgang til den forekomst af Regulatory Configuration Service (RCS), der er klargjort til den samme lejer som Finance, for en af følgende roller:</span><span class="sxs-lookup"><span data-stu-id="0c23a-118">To complete the examples in this topic, you must have access to the instance of Regulatory Configuration Services (RCS) that has been provisioned for the same tenant as Finance for one of the following roles:</span></span>

- <span data-ttu-id="0c23a-119">Udvikler til elektronisk rapportering</span><span class="sxs-lookup"><span data-stu-id="0c23a-119">Electronic reporting developer</span></span>
- <span data-ttu-id="0c23a-120">Funktionel konsulent i elektronisk rapportering</span><span class="sxs-lookup"><span data-stu-id="0c23a-120">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="0c23a-121">Systemadministrator</span><span class="sxs-lookup"><span data-stu-id="0c23a-121">System administrator</span></span>

<span data-ttu-id="0c23a-122">Vi anbefaler, at du udfører trinnene i emnet [Understøt parameteriserede opkald om ER-datakilder af typen BEREGNET FELT](er-calculated-field-type.md).</span><span class="sxs-lookup"><span data-stu-id="0c23a-122">We recommend that you complete the steps in the [Support parameterized calls of ER data sources of CALCULATED FIELD type](er-calculated-field-type.md) topic.</span></span> <span data-ttu-id="0c23a-123">Hvis du allerede har fuldført disse trin, kan du springe trinnene i den efterfølgende sektion **Importer ER-konfigurationer til RCS** over.</span><span class="sxs-lookup"><span data-stu-id="0c23a-123">If you've already completed those steps, you can skip the steps in the **Import ER configurations into RCS** section that follows.</span></span>

## <a name="import-er-configurations-into-rcs"></a><span data-ttu-id="0c23a-124">Importer ER-konfigurationer til RCS</span><span class="sxs-lookup"><span data-stu-id="0c23a-124">Import ER configurations into RCS</span></span>

<span data-ttu-id="0c23a-125">Download og gem følgende ER-konfigurationer lokalt.</span><span class="sxs-lookup"><span data-stu-id="0c23a-125">Download and locally store the following ER configurations.</span></span>

| <span data-ttu-id="0c23a-126">**Indholdsbeskrivelse**</span><span class="sxs-lookup"><span data-stu-id="0c23a-126">**Content description**</span></span>                        | <span data-ttu-id="0c23a-127">**Filnavn**</span><span class="sxs-lookup"><span data-stu-id="0c23a-127">**File name**</span></span>                                        |
|------------------------------------------------|------------------------------------------------------|
| <span data-ttu-id="0c23a-128">Eksempel på konfigurationsfil for **ER-datamodel**</span><span class="sxs-lookup"><span data-stu-id="0c23a-128">Sample **ER data model** configuration file</span></span>    | [<span data-ttu-id="0c23a-129">Model til at lære parameteriserede calls.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="0c23a-129">Model to learn parameterized calls.version.1.xml</span></span>](https://download.microsoft.com/download/2/d/b/2db913a0-3622-494e-91a2-97fc494af9b9/Modeltolearnparameterizedcalls.version.1.xml)     |
| <span data-ttu-id="0c23a-130">Eksempel på konfigurationsfil for **ER-metadata**</span><span class="sxs-lookup"><span data-stu-id="0c23a-130">Sample **ER metadata** configuration file</span></span>      | [<span data-ttu-id="0c23a-131">Metadata til at lære parameteriserede calls.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="0c23a-131">Metadata to learn parameterized calls.version.1.xml</span></span>](https://download.microsoft.com/download/1/b/3/1b343968-5a47-4000-b5a8-6487698ef4c0/Metadatatolearnparameterizedcalls.version.1.xml)  |
| <span data-ttu-id="0c23a-132">Eksempel på konfigurationsfil for **ER-modeltilknytning**</span><span class="sxs-lookup"><span data-stu-id="0c23a-132">Sample **ER model mapping** configuration file</span></span> | [<span data-ttu-id="0c23a-133">Tilknytning for at lære parameteriserede calls.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="0c23a-133">Mapping to learn parameterized calls.version.1.1.xml</span></span>](https://download.microsoft.com/download/8/6/6/866e0ab6-2e05-4d98-9d52-d2da2038f6e4/Mappingtolearnparameterizedcalls.version.1.1.xml) |
| <span data-ttu-id="0c23a-134">Eksempel på konfiguration af **ER-format**</span><span class="sxs-lookup"><span data-stu-id="0c23a-134">Sample **ER format** configuration</span></span>             | [<span data-ttu-id="0c23a-135">Format til at lære parameteriserede calls.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="0c23a-135">Format to learn parameterized calls.version.1.1.xml</span></span>](https://download.microsoft.com/download/e/3/9/e392eadc-b9b4-4834-95c3-b8066dd00b9c/Formattolearnparameterizedcalls.version.1.1.xml)  |

<span data-ttu-id="0c23a-136">Dernæst skal du logge på din RCS-forekomst.</span><span class="sxs-lookup"><span data-stu-id="0c23a-136">Next, sign in to your RCS instance.</span></span>

<span data-ttu-id="0c23a-137">I dette eksempel skal du oprette en konfiguration til eksempelfirmaet Litware, Inc.</span><span class="sxs-lookup"><span data-stu-id="0c23a-137">In this example, you will create a configuration for the Litware, Inc sample company.</span></span> <span data-ttu-id="0c23a-138">Før du kan fuldføre denne procedure skal du fuldføre trinnene i emnet [Opret en konfigurationsudbyder og marker den som aktiv](tasks/er-configuration-provider-mark-it-active-2016-11.md) i RCS.</span><span class="sxs-lookup"><span data-stu-id="0c23a-138">Before you can complete this procedure, you must complete the steps in the [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) topic in RCS.</span></span>

1.  <span data-ttu-id="0c23a-139">Vælg **Elektronisk rapportering** på standarddashboardet.</span><span class="sxs-lookup"><span data-stu-id="0c23a-139">On the default dashboard, select **Electronic reporting**.</span></span>
2.  <span data-ttu-id="0c23a-140">Vælg **Rapporteringskonfigurationer**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-140">Select **Reporting configurations**.</span></span>
3.  <span data-ttu-id="0c23a-141">Importér de ER-konfigurationer, som du downloadede tidligere, til RCS i følgende rækkefølge: datamodel, metadata, modeltilknytning og format.</span><span class="sxs-lookup"><span data-stu-id="0c23a-141">Import the ER configurations that you downloaded earlier into RCS, in the following order: data model, metadata, model mapping, and format.</span></span> <span data-ttu-id="0c23a-142">Benyt følgende fremgangsmåde for hver ER-konfiguration:</span><span class="sxs-lookup"><span data-stu-id="0c23a-142">For each ER configuration, follow these steps:</span></span>

    1.  <span data-ttu-id="0c23a-143">Vælg **Udveksling**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-143">Select **Exchange**.</span></span>
    2.  <span data-ttu-id="0c23a-144">Vælg **Indlæs fra XML-fil**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-144">Select **Load from XML file**.</span></span>
    3.  <span data-ttu-id="0c23a-145">Vælg **Gennemse** for at vælge filen til den krævede ER-konfiguration i XML-format.</span><span class="sxs-lookup"><span data-stu-id="0c23a-145">Select **Browse** to select the file for the required ER configuration in XML format.</span></span>
    4.  <span data-ttu-id="0c23a-146">Vælg **OK**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-146">Select **OK**.</span></span>

## <a name="review-the-er-solution-that-is-provided"></a><span data-ttu-id="0c23a-147">Gennemse den ER-løsning, der leveres</span><span class="sxs-lookup"><span data-stu-id="0c23a-147">Review the ER solution that is provided</span></span>

1.  <span data-ttu-id="0c23a-148">Udvid indholdet af elementet **Model til at lære parameteriserede kald** i konfigurationstræet.</span><span class="sxs-lookup"><span data-stu-id="0c23a-148">In the configuration tree, expand the contents of the **Model to learn parameterized calls** item.</span></span>
2.  <span data-ttu-id="0c23a-149">Vælg emnet **Format til at lære parameteriserede kald**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-149">Select the **Format to learn parameterized calls** item.</span></span>
3.  <span data-ttu-id="0c23a-150">Vælg **Designer**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-150">Select **Designer**.</span></span>
4.  <span data-ttu-id="0c23a-151">Vælg **Udvid/skjul**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-151">Select **Expand/Collapse**.</span></span>

    <span data-ttu-id="0c23a-152">ER-formatet **Format til at lære parametriserede opkald** er designet, så der oprettes en momsangivelse i XML-format, der indeholder flere momsniveauer (almindelig, reduceret og ingen).</span><span class="sxs-lookup"><span data-stu-id="0c23a-152">The **Format to learn parameterized calls** ER format is designed to generate a tax statement in XML format that presents several levels of taxation (regular, reduced, and none).</span></span> <span data-ttu-id="0c23a-153">Hvert niveau har et forskelligt antal detaljer.</span><span class="sxs-lookup"><span data-stu-id="0c23a-153">Each level has a different number of details.</span></span>

    ![Flere niveauer i ER-format. Format til at lære parameteriserede kald](./media/RCS-AppSpecParms-ReviewFormat.PNG)

5.  <span data-ttu-id="0c23a-155">På fanen **Tilknytning** skal du udvide objekterne **Model**, **Data** og **Opsummering**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-155">On the **Mapping** tab, expand the **Model**, **Data**, and **Summary** items.</span></span>

    <span data-ttu-id="0c23a-156">Datakilden **Model.Data.Opsummering** returnerer listen over momstransaktioner.</span><span class="sxs-lookup"><span data-stu-id="0c23a-156">The **Model.Data.Summary** data source returns the list of tax transactions.</span></span> <span data-ttu-id="0c23a-157">Disse transaktioner opsummeres efter momskode.</span><span class="sxs-lookup"><span data-stu-id="0c23a-157">These transactions are summarized by tax code.</span></span> <span data-ttu-id="0c23a-158">For denne datakilde er det beregnede felt **Model.Data.Opsummering.Niveau** konfigureret til at returnere koden for momsniveauet for hver opsummeret post.</span><span class="sxs-lookup"><span data-stu-id="0c23a-158">For this data source, the **Model.Data.Summary.Level** calculated field has been configured to return the code for the taxation level of each summarized record.</span></span> <span data-ttu-id="0c23a-159">For alle momskoder, der kan hentes fra datakilden **Model.Data.Opsummering.Niveau** på kørselstidspunktet, returneres koden for momsniveau (**Almindelig**, **Reduceret**, **Ingen** eller **Andre**) som en tekstværdi.</span><span class="sxs-lookup"><span data-stu-id="0c23a-159">For any tax code that can be retrieved from the **Model.Data.Summary** data source at runtime, the calculated field returns the taxation level code (**Regular**, **Reduced**, **None**, or **Other**) as a text value.</span></span> <span data-ttu-id="0c23a-160">Det beregnede felt **Model.Data.Opsummering** bruges til at filtrere poster for datakilden **Model. Data.Opsummering** og angiver de filtrerede data i hvert XML-element, der repræsenterer et beskatningsniveau, ved hjælp af felterne **Model.Data2.Niveau1**, **Model.Data2.Niveau2** og **Model.Data2.Niveau3**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-160">The **Model.Data.Summary.Level** calculated field is used to filter records of the **Model.Data.Summary** data source and enter the filtered data in each XML element that represents a taxation level by using the **Model.Data2.Level1**, **Model.Data2.Level2**, and **Model.Data2.Level3** fields.</span></span>

    ![Datakilden Model.Data.Opsummering med liste over momstransaktioner](./media/RCS-AppSpecParms-ReviewFormat-Data2Fld.PNG)

    <span data-ttu-id="0c23a-162">Det beregnede felt **Model.Data.Opsummering** er konfigureret, så det indeholder et ET-udtryk.</span><span class="sxs-lookup"><span data-stu-id="0c23a-162">The **Model.Data.Summary.Level** calculated field has been configured so that it contains an ER expression.</span></span> <span data-ttu-id="0c23a-163">Momskoderne (**VAT19**, **InVAT19**, **VAT7**, **InVAT7**, **THIRD** og **InVAT0**) er hardcoded ind i denne konfiguration.</span><span class="sxs-lookup"><span data-stu-id="0c23a-163">Tax codes (**VAT19**, **InVAT19**, **VAT7**, **InVAT7**, **THIRD**, and **InVAT0**) are hardcoded into this configuration.</span></span> <span data-ttu-id="0c23a-164">Derfor er dette ER-format afhængigt af den juridiske enhed, hvor disse momskoder er blevet konfigureret.</span><span class="sxs-lookup"><span data-stu-id="0c23a-164">Therefore, this ER format is dependent on the legal entity where these tax codes were configured.</span></span>

    ![Det beregnede felt Model.Data.Opsummering.Niveau med hardcodede momskoder](./media/RCS-AppSpecParms-ReviewFormat-LevelFld.PNG)

    <span data-ttu-id="0c23a-166">Hvis du vil understøtte forskellige sæt momskoder for hver juridisk enhed, skal du følge disse trin:</span><span class="sxs-lookup"><span data-stu-id="0c23a-166">To support a different set of tax codes for each legal entity, you must follow these steps:</span></span>

    - <span data-ttu-id="0c23a-167">Opret en afledt version af ER-formatet for hver juridisk enhed.</span><span class="sxs-lookup"><span data-stu-id="0c23a-167">Create a derived version of the ER format for each legal entity.</span></span>
    - <span data-ttu-id="0c23a-168">Opdater momskoderne i det beregnede felt **Model.Data.Opsummering.Niveau** ud fra indstillingen for den juridiske enhed.</span><span class="sxs-lookup"><span data-stu-id="0c23a-168">Update the tax codes in the **Model.Data.Summary.Level** calculated field, based on the legal entity setting.</span></span>

6.  <span data-ttu-id="0c23a-169">Luk siden **Formatdesigner**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-169">Close the **Format designer** page.</span></span>

## <a name="create-a-derived-format"></a><span data-ttu-id="0c23a-170">Oprette et afledt format</span><span class="sxs-lookup"><span data-stu-id="0c23a-170">Create a derived format</span></span>

<span data-ttu-id="0c23a-171">Derefter skal du bruge funktionen programspecifikke parametre for ER til at understøtte et andet sæt momskoder for hver juridisk enhed i et enkelt ER-format.</span><span class="sxs-lookup"><span data-stu-id="0c23a-171">Next, you will use the ER application-specific parameters feature to support a different set of tax codes for each legal entity in a single ER format.</span></span>

1.  <span data-ttu-id="0c23a-172">Udvid indholdet af elementet **Model til at lære parameteriserede kald** i konfigurationstræet.</span><span class="sxs-lookup"><span data-stu-id="0c23a-172">In the configuration tree, expand the contents of the **Model to learn parameterized calls** item.</span></span>
2.  <span data-ttu-id="0c23a-173">Vælg emnet **Format til at lære parameteriserede kald**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-173">Select the **Format to learn parameterized calls** item.</span></span>
3.  <span data-ttu-id="0c23a-174">Vælg **Opret konfiguration**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-174">Select **Create configuration**.</span></span>
4.  <span data-ttu-id="0c23a-175">Vælg indstillingen **Afledt fra navn: Format til at lære parameteriserede kald, Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-175">Select the **Derive from Name: Format to learn parameterized calls, Microsoft** option.</span></span>
5.  <span data-ttu-id="0c23a-176">Gå til feltet **Navn**, og angiv **Format til at lære, hvordan man leder efter LE-data**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-176">In the **Name** field, enter **Format to learn how to lookup LE data**.</span></span>
6.  <span data-ttu-id="0c23a-177">Vælg **Opret konfiguration**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-177">Select **Create configuration**.</span></span>

## <a name="configure-a-derived-format"></a><span data-ttu-id="0c23a-178">Konfigurer et afledt format</span><span class="sxs-lookup"><span data-stu-id="0c23a-178">Configure a derived format</span></span>

### <a name="add-a-format-enumeration"></a><span data-ttu-id="0c23a-179">Tilføj et fasttekst-format</span><span class="sxs-lookup"><span data-stu-id="0c23a-179">Add a format enumeration</span></span>

<span data-ttu-id="0c23a-180">Derefter skal du tilføje et nyt ER-fasttekstformat.</span><span class="sxs-lookup"><span data-stu-id="0c23a-180">Next, you will add a new ER format enumeration.</span></span> <span data-ttu-id="0c23a-181">Værdierne i dette fasttekstformat vises for erhvervsbrugere, der angiver de juridiske enheds-afhængige sæt momskoder for de forskellige beskatningsniveauer, der bruges i ER-formatet.</span><span class="sxs-lookup"><span data-stu-id="0c23a-181">The values of this format enumeration will be presented to business users, who will specify legal entity–dependent sets of tax codes for the various taxation levels that are used in the ER format.</span></span>

1.  <span data-ttu-id="0c23a-182">Vælg **Designer**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-182">Select **Designer**.</span></span>
2.  <span data-ttu-id="0c23a-183">Vælg **Fasttekst-formater**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-183">Select **Format enumerations**.</span></span>
3.  <span data-ttu-id="0c23a-184">Vælg **Tilføj**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-184">Select **Add**.</span></span>
4.  <span data-ttu-id="0c23a-185">I feltet **Navn** skal du angive **Liste med beskatningsniveauer**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-185">In the **Name** field, enter **List of taxation levels**.</span></span>
5.  <span data-ttu-id="0c23a-186">Vælg **Gem**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-186">Select **Save**.</span></span>
6.  <span data-ttu-id="0c23a-187">Vælg **Tilføj** under fanen **Værdier for fasttekstformat**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-187">On the **Format enumeration values** tab, select **Add**.</span></span>
7.  <span data-ttu-id="0c23a-188">I feltet **Navn** skal du angive **Almindelig beskatning**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-188">In the **Name** field, enter **Regular taxation**.</span></span>
8.  <span data-ttu-id="0c23a-189">Vælg **Tilføj** igen.</span><span class="sxs-lookup"><span data-stu-id="0c23a-189">Select **Add** again.</span></span>
9.  <span data-ttu-id="0c23a-190">I feltet **Navn** skal du angive **Reduceret beskatning**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-190">In the **Name** field, enter **Reduced taxation**.</span></span>
10. <span data-ttu-id="0c23a-191">Vælg **Tilføj** igen.</span><span class="sxs-lookup"><span data-stu-id="0c23a-191">Select **Add** again.</span></span>
11. <span data-ttu-id="0c23a-192">I feltet **Navn** skal du angive **Ingen beskatning**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-192">In the **Name** field, enter **No taxation**.</span></span>
12. <span data-ttu-id="0c23a-193">Vælg **Tilføj** igen.</span><span class="sxs-lookup"><span data-stu-id="0c23a-193">Select **Add** again.</span></span>
13. <span data-ttu-id="0c23a-194">I feltet **Navn** skal du skrive **Andet**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-194">In the **Name** field, enter **Other**.</span></span>

    ![Ny post på siden Formatfasttekster](./media/RCS-AppSpecParms-ConfigureFormat-Enum.PNG)

    <span data-ttu-id="0c23a-196">Da erhvervsbrugere kan bruge forskellige sprog til at angive juridisk enheds-afhængige sæt momskoder, anbefales det, at du oversætter værdierne i denne optælling til de sprog, der er konfigureret som de foretrukne sprog for disse brugere i Finance.</span><span class="sxs-lookup"><span data-stu-id="0c23a-196">Because the business users might use different languages to specify legal entity–dependent sets of tax codes, we recommend that you translate the values of this enumeration into the languages that are configured as the preferred languages for those users in Finance.</span></span>

14. <span data-ttu-id="0c23a-197">Vælg en post for **Ingen beskatning**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-197">Select the **No taxation** record.</span></span>
15. <span data-ttu-id="0c23a-198">Klik på feltet **Etikette**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-198">Click in the **Label** field.</span></span>
16. <span data-ttu-id="0c23a-199">Vælg **Oversæt**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-199">Select **Translate**.</span></span>
17. <span data-ttu-id="0c23a-200">I panelet **Tekstoversættelse** i feltet **Etiket-id** skal du indtaste **LBL_LEVELENUM_NO**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-200">In the **Text translation** pane, in the **Label ID** field, enter **LBL_LEVELENUM_NO**.</span></span>
18. <span data-ttu-id="0c23a-201">I feltet **Tekst i standardsprog** skal du indtaste **Ingen beskatning**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-201">In the **Text in default language** field, enter **No taxation**.</span></span>
19. <span data-ttu-id="0c23a-202">I feltet **Sprog** skal du vælge **DE**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-202">In the **Language** field, select **DE**.</span></span>
20. <span data-ttu-id="0c23a-203">I feltet **Oversat tekst** skal du indtaste **keine Besteuerung**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-203">In the **Translated text** field, enter **keine Besteuerung**.</span></span>
21. <span data-ttu-id="0c23a-204">Vælg **Oversæt**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-204">Select **Translate**.</span></span>

    ![Tekstoversættelses-slide-out](./media/RCS-AppSpecParms-ConfigureFormat-EnumTranslate.PNG)

22. <span data-ttu-id="0c23a-206">Vælg **Gem**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-206">Select **Save**.</span></span>
23. <span data-ttu-id="0c23a-207">Luk siden **Fasttekstformat**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-207">Close the **Format enumerations** page.</span></span>

### <a name="add-a-new-lookup-data-source"></a><span data-ttu-id="0c23a-208">Tilføje en ny opslagsdatakilde</span><span class="sxs-lookup"><span data-stu-id="0c23a-208">Add a new lookup data source</span></span>

<span data-ttu-id="0c23a-209">Derefter skal du tilføje en ny datakilde for at angive, hvordan erhvervsbrugere skal angive de juridiske enhedsafhængige regler for at genkende det korrekte beskatningsniveau for hver enkelt opsummerede transaktionspost.</span><span class="sxs-lookup"><span data-stu-id="0c23a-209">Next, you will add a new data source to specify how business users will specify legal entity–dependent rules to recognize the correct taxation level for each summarized transaction record.</span></span>

1.  <span data-ttu-id="0c23a-210">På fanen **Tilknytning** skal du vælge **Tilføj**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-210">On the **Mapping** tab, select **Add**.</span></span>
2.  <span data-ttu-id="0c23a-211">Vælg **Fasttekst-format\Opslag**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-211">Select **Format enumeration\Lookup**.</span></span>

    <span data-ttu-id="0c23a-212">Du har netop identificeret, at de enkelte regler, som erhvervsbrugere angiver for genkendelse af beskatningsniveau, skal returnere en værdi i et ER-fasttekstformat.</span><span class="sxs-lookup"><span data-stu-id="0c23a-212">You just identified that each rule that business users specify for taxation level recognition will return a value of an ER format enumeration.</span></span> <span data-ttu-id="0c23a-213">Bemærk, at datakildetypen **Opslag** kan tilgås under blokkene **Datamodel** og **Dynamics 365 for Operations** ud over blokken **Fasttekstformat**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-213">Notice that the **Lookup** data source type can be accessed under the **Data model** and **Dynamics 365 for Operations** blocks in addition to the **Format enumeration** block.</span></span> <span data-ttu-id="0c23a-214">Du kan derfor bruge fasttekst for ER-datamodeller og programmer til at angive den type værdier, der skal returneres for datakilder af den pågældende type.</span><span class="sxs-lookup"><span data-stu-id="0c23a-214">Therefore, ER data model enumerations and application enumerations can be used to specify the type of values that are returned for data sources of that type.</span></span> <span data-ttu-id="0c23a-215">Du kan få mere at vide om datakilderne til **Opslag** i [Konfigurere opslagsdatakilder til at bruge den ER-programspecifikke parameterfunktion](er-lookup-data-sources.md).</span><span class="sxs-lookup"><span data-stu-id="0c23a-215">To learn more about the **Lookup** data sources, see [Configure Lookup data sources to use the ER application-specific parameters feature](er-lookup-data-sources.md).</span></span>
    
3.  <span data-ttu-id="0c23a-216">I feltet **Navn** skal du angive **Vælger**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-216">In the **Name** field, enter **Selector**.</span></span>
4.  <span data-ttu-id="0c23a-217">I feltet **Fasttekstformat** skal du vælge **Liste med beskatningsniveauer**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-217">In the **Format enumeration** field, select **List of taxation levels**.</span></span>

    <span data-ttu-id="0c23a-218">Du har angivet, at for hver regel, der er angivet i denne datakilde, skal en erhvervsbruger vælge en af værdierne fra fasttekstformatet **Listen over beskatningsniveauer** som en returneret værdi.</span><span class="sxs-lookup"><span data-stu-id="0c23a-218">You specified that, for each rule that is specified in this data source, a business user must select one of the values of the **List of taxation levels** format enumeration as a returned value.</span></span>
    
5.  <span data-ttu-id="0c23a-219">Vælg **Rediger opslag**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-219">Select **Edit lookup**.</span></span>
6.  <span data-ttu-id="0c23a-220">Vælg **Kolonner**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-220">Select **Columns**.</span></span>
7.  <span data-ttu-id="0c23a-221">Udvid elementet **Model**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-221">Expand the **Model** item.</span></span>
8.  <span data-ttu-id="0c23a-222">Udvid elementet **Data**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-222">Expand the **Data** item.</span></span>
9.  <span data-ttu-id="0c23a-223">Udvid elementet **Moms**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-223">Expand the **Tax** item.</span></span>
10. <span data-ttu-id="0c23a-224">Vælg elementet varen **Model.Data.Moms.Code**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-224">Select the **Model.Data.Tax.Code** item.</span></span>
11. <span data-ttu-id="0c23a-225">Klik på knappen **Tilføj** (pilen til højre).</span><span class="sxs-lookup"><span data-stu-id="0c23a-225">Select the **Add** button (the right arrow).</span></span>

    ![Kolonner-slide-out](./media/RCS-AppSpecParms-ConfigureFormat-Lookup1.PNG)

    <span data-ttu-id="0c23a-227">Du har netop angivet, at for hver regel, der er angivet i denne datakilde for genkendelse af beskatningsniveau, skal en erhvervsbruger vælge en af momskoderne som en betingelse.</span><span class="sxs-lookup"><span data-stu-id="0c23a-227">You just specified that, for each rule that is specified in this data source for taxation level recognition, a business user must select one of the tax codes as a condition.</span></span> <span data-ttu-id="0c23a-228">Den liste over momskoder, som erhvervsbrugeren kan vælge, vil blive returneret af datakilden **Model.Data.Moms**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-228">The list of tax codes that the business user can select will be returned by the **Model.Data.Tax** data source.</span></span> <span data-ttu-id="0c23a-229">Da denne datakilde indeholder feltet **Navn**, vises navnet på momskoden for hver momskodeværdi i det opslag, der vises for erhvervsbrugeren.</span><span class="sxs-lookup"><span data-stu-id="0c23a-229">Because this data source contains the **Name** field, the name of the tax code will be shown for each tax code value in the lookup that is presented to the business user.</span></span>
    
12. <span data-ttu-id="0c23a-230">Vælg **OK**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-230">Select **OK**.</span></span>

    ![Opslagsdesignerside](./media/RCS-AppSpecParms-ConfigureFormat-Lookup2.PNG)

    <span data-ttu-id="0c23a-232">Erhvervsbrugere kan tilføje flere regler som poster i denne datakilde.</span><span class="sxs-lookup"><span data-stu-id="0c23a-232">Business users can add multiple rules as records of this data source.</span></span> <span data-ttu-id="0c23a-233">Hver post nummereres af en stregkode.</span><span class="sxs-lookup"><span data-stu-id="0c23a-233">Each record will be numbered by a line code.</span></span> <span data-ttu-id="0c23a-234">Reglerne evalueres i rækkefølge efter stigende linjenummer.</span><span class="sxs-lookup"><span data-stu-id="0c23a-234">Rules will be evaluated in order of increasing line number.</span></span>

    <span data-ttu-id="0c23a-235">Da du har valgt feltet **Momskode** som en betingelse for reglerne i denne opslagsdatakilde, og idet **Momskode** er konfigureret som et felt af datatypen **Streng**, evalueres hver regel på tidspunktet for kørslen ved at sammenligne den momskode, der overføres til datakilden med den momskode, der er defineret i denne post i datakilden.</span><span class="sxs-lookup"><span data-stu-id="0c23a-235">Because you selected the **Tax code** field as a condition for rules in this lookup data source, and because **Tax code** is set up as a field of the **String** data type, each rule will be evaluated at runtime by comparing the tax code that is passed to the data source with the tax code that is defined in this record of the data source.</span></span>

    <span data-ttu-id="0c23a-236">Når der findes en regel, der opfylder den konfigurerede betingelse, returnerer denne datakilde opslagsværdien for den regel, der er defineret i feltet **Opslagsresultat**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-236">When a rule that satisfies the configured condition is found, this data source returns the lookup value of the rule that is defined in the **Lookup result** field.</span></span> <span data-ttu-id="0c23a-237">Hvis der ikke findes en regel, udløses der en undtagelse, der giver brugeren besked om, at den aktuelle datakilde ikke kan returnere en korrekt værdi.</span><span class="sxs-lookup"><span data-stu-id="0c23a-237">If no rule is found, an exception is thrown to notify the user that the current data source can't return a correct value.</span></span>

13. <span data-ttu-id="0c23a-238">Vælg **Gem**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-238">Select **Save**.</span></span>
14. <span data-ttu-id="0c23a-239">Luk siden **Opslagsdesigner**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-239">Close the **Lookup designer** page.</span></span>
15. <span data-ttu-id="0c23a-240">Vælg **OK**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-240">Select **OK**.</span></span>

    <span data-ttu-id="0c23a-241">Bemærk, at du har tilføjet en ny datakilde, der returnerer beskatningsniveauet, som værdi i fasttekstformatet **Liste over beskatningsniveauværdier**, som videregives til datakilden som argument for parametret **Kode** i datatypen **Streng**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-241">Notice that you added a new data source that will return the taxation level as the value of the **List of taxation levels** format enumeration for any tax code that is passed to the data source as the argument of the **Code** parameter of the **String** data type.</span></span>
    
    ![Formatdesignerside med ny datakilde](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFld.PNG)

    <span data-ttu-id="0c23a-243">Evalueringen af konfigurerede regler afhænger af datatypen for de felter, der er valgt til at skulle definere betingelserne for disse regler.</span><span class="sxs-lookup"><span data-stu-id="0c23a-243">The evaluation of configured rules depends on the data type of the fields that have been selected to define conditions of those rules.</span></span> <span data-ttu-id="0c23a-244">Når du vælger et felt, der er konfigureret som et felt af datatypen **Numerisk** eller **data**, vil kriterierne være forskellige fra de kriterier, der blev beskrevet tidligere for datatypen **Streng**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-244">When you select a field that is configured as a field of either the **Numeric** or **Date** data type, the criteria will differ from the criteria that were described earlier for the **String** data type.</span></span> <span data-ttu-id="0c23a-245">I felterne **Numerisk** og **Dato** skal reglen angives som et værdiinterval.</span><span class="sxs-lookup"><span data-stu-id="0c23a-245">For **Numeric** and **Date** fields, the rule must be specified as a range of values.</span></span> <span data-ttu-id="0c23a-246">Reglens betingelse betragtes derefter som opfyldt, når en værdi, der overføres til datakilden, ligger inden for det konfigurerede interval.</span><span class="sxs-lookup"><span data-stu-id="0c23a-246">The condition of the rule will then be considered satisfied when a value that is passed to the data source is in the configured range.</span></span>
    
    <span data-ttu-id="0c23a-247">I følgende illustration vises et eksempel på denne type opsætning.</span><span class="sxs-lookup"><span data-stu-id="0c23a-247">The following illustration shows an example of this type of setup.</span></span> <span data-ttu-id="0c23a-248">Ud over feltet **Model.Data.Moms.Kode** af datatypen **Streng** er det feltet **Model.Moms.Opsummering.Grundlag** for datatypen **Reel**, der bruges til at angive betingelser for en opslagsdatakilde.</span><span class="sxs-lookup"><span data-stu-id="0c23a-248">In addition to the **Model.Data.Tax.Code** field of the **String** data type, the **Model.Tax.Summary.Base** field of the **Real** data type is used to specify conditions for a lookup data source.</span></span>
    
    ![Opslagsdesignerside med flere kolonner](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFld2.PNG)

    <span data-ttu-id="0c23a-250">Da felterne **Model.Data.Moms.Kode** og **Model.Moms.Opsummering.Grundlag** er markeret for denne opslagsdatakilde, konfigureres hver enkelt regel i denne datakilde på følgende måde:</span><span class="sxs-lookup"><span data-stu-id="0c23a-250">Because the **Model.Data.Tax.Code** and **Model.Tax.Summary.Base** fields are selected for this lookup data source, each rule of this data source will be configured in the following way:</span></span>
    
    -   <span data-ttu-id="0c23a-251">På den liste, der vises, skal værdien af fasttekstformatet **Listen over beskatningsniveauer** være angivet som en returneret værdi.</span><span class="sxs-lookup"><span data-stu-id="0c23a-251">In the list that is presented, the value of the **List of taxation levels** format enumeration must be selected as a returned value.</span></span>
    -   <span data-ttu-id="0c23a-252">Momskoden skal angives som betingelse for reglen.</span><span class="sxs-lookup"><span data-stu-id="0c23a-252">The tax code must be entered as a condition of this rule.</span></span> <span data-ttu-id="0c23a-253">Det er kun de momskoder, der leveres af datakilden **Model.Data.Moms**, der er anvendelige.</span><span class="sxs-lookup"><span data-stu-id="0c23a-253">Only tax codes that are provided by the **Model.Data.Tax** data source are applicable.</span></span>
    -   <span data-ttu-id="0c23a-254">Minimum- og maksimumværdierne for momsgrundlagsbeløbet skal angives som betingelser for reglen.</span><span class="sxs-lookup"><span data-stu-id="0c23a-254">Minimum and maximum values of the tax base amount must be entered as conditions of this rule.</span></span>

    <span data-ttu-id="0c23a-255">Her er, hvordan hver regel i denne datakilde evalueres under kørsel:</span><span class="sxs-lookup"><span data-stu-id="0c23a-255">Here is how each rule of this data source will be evaluated at runtime:</span></span>
    -   <span data-ttu-id="0c23a-256">Er koden for datatypen **Streng**, der blev overført til denne datakilde, lig med en regels momskode?</span><span class="sxs-lookup"><span data-stu-id="0c23a-256">Does the code of the **String** data type that was passed to this data source equal the tax code of a rule?</span></span>
    -   <span data-ttu-id="0c23a-257">Falder værdien af datatypen **Reel**, der blev overført til denne datakilde, mellem bestemte minimum- og maksimumværdier?</span><span class="sxs-lookup"><span data-stu-id="0c23a-257">Does the value of the **Real** data type that was passed to this data source fall between specific minimum and maximum values?</span></span>

    <span data-ttu-id="0c23a-258">En regel anses for at være anvendelig, når begge betingelser er opfyldt.</span><span class="sxs-lookup"><span data-stu-id="0c23a-258">A rule will be considered applicable when both conditions are satisfied.</span></span>

### <a name="translate-the-label-of-the-lookup-data-source-that-was-added"></a><span data-ttu-id="0c23a-259">Oversæt etiketten for den opslagsdatakilde, der blev tilføjet</span><span class="sxs-lookup"><span data-stu-id="0c23a-259">Translate the label of the lookup data source that was added</span></span>

<span data-ttu-id="0c23a-260">Da erhvervsbrugere kan bruge forskellige sprog til at angive juridisk enheds-afhængige sæt momskoder, anbefales det, at du oversætter etiketten i alle opslagsdatakilder, som du har tilføjet, således at det fremstår i hver brugers foretrukne sprog på den tilsvarende side.</span><span class="sxs-lookup"><span data-stu-id="0c23a-260">Because business users might use different languages to specify legal entity–dependent sets of tax codes, we recommend that you translate the label of any lookup data source that you add, so that it's presented in each user's preferred language on the corresponding page.</span></span>

1.  <span data-ttu-id="0c23a-261">Vælg datakilden **Model.Data.Vælger**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-261">Select the **Model.Data.Selector** data source.</span></span>
2.  <span data-ttu-id="0c23a-262">Vælg **Rediger**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-262">Select **Edit**.</span></span>
3.  <span data-ttu-id="0c23a-263">Klik på feltet **Etikette**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-263">Click in the **Label** field.</span></span>
4.  <span data-ttu-id="0c23a-264">Vælg **Oversæt**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-264">Select **Translate**.</span></span>
5.  <span data-ttu-id="0c23a-265">I panelet **Tekstoversættelse** i feltet **Etiket-id** skal du indtaste **LBL_SELECTOR_DS**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-265">In the **Text translation** pane, in the **Label ID** field, enter **LBL_SELECTOR_DS**.</span></span>
6.  <span data-ttu-id="0c23a-266">I feltet **Tekst i standardsprog** skal du angive **Vælg beskatningsniveau efter momskode**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-266">In the **Text in default language** field, enter **Select tax level by tax code**.</span></span>
7.  <span data-ttu-id="0c23a-267">I feltet **Sprog** skal du vælge **DE**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-267">In the **Language** field, select **DE**.</span></span>
8.  <span data-ttu-id="0c23a-268">I feltet **Oversat tekst** skal du angive **Steuerebene für Steuerkennzeichen auswählen**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-268">In the **Translated text** field, enter **Steuerebene für Steuerkennzeichen auswählen**.</span></span>
9.  <span data-ttu-id="0c23a-269">Vælg **Oversæt**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-269">Select **Translate**.</span></span>
10. <span data-ttu-id="0c23a-270">Vælg **OK**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-270">Select **OK**.</span></span>

    ![Datakildeegenskaber-slide-out](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFldTranslate.PNG)

### <a name="add-a-new-field-to-consume-the-configured-lookup"></a><span data-ttu-id="0c23a-272">Tilføje et nyt felt som skal bruge det konfigurerede opslag</span><span class="sxs-lookup"><span data-stu-id="0c23a-272">Add a new field to consume the configured lookup</span></span>

1.  <span data-ttu-id="0c23a-273">Udvid elementet **Model.Data**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-273">Expand the **Model.Data** item.</span></span>
2.  <span data-ttu-id="0c23a-274">Vælg elementet **Model.Data.Opsummering**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-274">Select the **Model.Data.Summary** item.</span></span>
3.  <span data-ttu-id="0c23a-275">Vælg **Tilføj**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-275">Select **Add**.</span></span>
4.  <span data-ttu-id="0c23a-276">Vælg **Funktioner/Beregnet felt**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-276">Select **Functions/Calculated field**.</span></span>
5.  <span data-ttu-id="0c23a-277">I feltet **Navn** skal du angive **NiveauViaOpslag**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-277">In the **Name** field, enter **LevelByLookup**.</span></span>
6.  <span data-ttu-id="0c23a-278">Vælg **Rediger formel**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-278">Select **Edit formula**.</span></span>
7.  <span data-ttu-id="0c23a-279">I **Formelfeltet** skal du angive **Model.Vælger (Model.Data.Opsummering.Kode)**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-279">In the **Formula field**, enter **Model.Selector(Model.Data.Summary.Code)**.</span></span>
8.  <span data-ttu-id="0c23a-280">Vælg **Gem**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-280">Select **Save**.</span></span>

    ![Tilføjelse af Model.Vælger(Model.Data.Opsummering.Kode) til formeldesignersiden](./media/RCS-AppSpecParms-ConfigureFormat-AddLevelByLookupFld.PNG)

9.  <span data-ttu-id="0c23a-282">Luk siden **Formeleditor**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-282">Close the **Formula editor** page.</span></span>
10. <span data-ttu-id="0c23a-283">Vælg **OK**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-283">Select **OK**.</span></span>

    ![Formatdesignerside med ny formel tilføjet](./media/RCS-AppSpecParms-ConfigureFormat-AddLevelByLookupFld2.PNG)

    <span data-ttu-id="0c23a-285&quot;>Bemærk, at det beregnede felt **NiveauViaOpslag**, som du har tilføjet, returnerer beskatningsniveauet som værdien fasttekstformatet **Liste over beskatningsniveauer** for hver enkelt opsummeret momstransaktionspost.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-285&quot;>Notice that the **LevelByLookup** calculated field that you added will return the taxation level as the value of the **List of taxation levels** format enumeration for each summarized tax transactions record.</span></span> <span data-ttu-id=&quot;0c23a-286&quot;>Postens momskode overføres til opslagsdatakilden **Model.Vælger**, og regelsættet for denne datakilde vil blive brugt til at vælge det korrekte beskatningsniveau.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-286&quot;>The tax code of the record will be passed to the **Model.Selector** lookup data source, and the set of rules for this data source will be used to select the correct taxation level.</span></span>

### <a name=&quot;add-a-new-format-enumeration-based-data-source&quot;></a><span data-ttu-id=&quot;0c23a-287&quot;>Tilføj en ny datakilde baseret på fasttekstformat</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-287&quot;>Add a new format enumeration-based data source</span></span>

<span data-ttu-id=&quot;0c23a-288&quot;>Derefter skal du tilføje en ny datakilde, der henviser til fasttekstformat, som du tidligere har tilføjet.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-288&quot;>Next, you will add a new data source that refers to the format enumeration that you added earlier.</span></span> <span data-ttu-id=&quot;0c23a-289&quot;>Værdierne i denne datakilde vil blive brugt i et ET-formatudtryk senere.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-289&quot;>Values of this data source will be used in an ER format expression later.</span></span>

1.  <span data-ttu-id=&quot;0c23a-290&quot;>Vælg **Tilføj rod**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-290&quot;>Select **Add root**.</span></span>
2.  <span data-ttu-id=&quot;0c23a-291&quot;>Vælg **Fasttekst-formater\Fasttekst**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-291&quot;>Select **Format enumerations\Enumeration**.</span></span>
3.  <span data-ttu-id=&quot;0c23a-292&quot;>I feltet **Navn** skal du angive **Beskatningsniveau**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-292&quot;>In the **Name** field, enter **TaxationLevel**.</span></span>
4.  <span data-ttu-id=&quot;0c23a-293&quot;>I feltet **Fasttekstformat** skal du vælge **Liste med beskatningsniveauer**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-293&quot;>In the **Format enumeration** field, select **List of taxation levels**.</span></span>
5.  <span data-ttu-id=&quot;0c23a-294&quot;>Vælg **Gem**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-294&quot;>Select **Save**.</span></span>

### <a name=&quot;modify-an-existing-field-to-start-to-use-the-lookup&quot;></a><span data-ttu-id=&quot;0c23a-295&quot;>Rediger et eksisterende felt for at begynde at bruge opslaget</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-295&quot;>Modify an existing field to start to use the lookup</span></span>

<span data-ttu-id=&quot;0c23a-296&quot;>Derefter skal du redigere det eksisterende beregnede felt, så det bruger den konfigurerede opslagsdatakilde til at returnere den korrekte værdi for værdier for beskatningsniveau, afhængigt af momskoden.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-296&quot;>Next, you will modify the existing calculated field so that it uses the configured lookup data source to return the correct taxation level value, depending on the tax code.</span></span>

1.  <span data-ttu-id=&quot;0c23a-297&quot;>Vælg elementet **Model.Data.Opsummering.Niveau**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-297&quot;>Select the **Model.Data.Summary.Level** item.</span></span>
2.  <span data-ttu-id=&quot;0c23a-298&quot;>Vælg **Rediger**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-298&quot;>Select **Edit**.</span></span>
3.  <span data-ttu-id=&quot;0c23a-299&quot;>Vælg **Rediger formel**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-299&quot;>Select **Edit formula**.</span></span>

    <span data-ttu-id=&quot;0c23a-300&quot;>Bemærk, at det aktuelle udtryk for feltet **Model.Data.Opsummering.Niveau** indeholder følgende hardcodede momskoder:</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;0c23a-300&quot;>Notice that the current expression of the **Model.Data.Summary.Level** field includes the following hard-coded tax codes:</span></span>
    
    <span data-ttu-id=&quot;0c23a-301&quot;>SAG (@.Kode, &quot;MOMS19&quot;, &quot;Almindelig&quot;, &quot;InVAT19&quot;, &quot;Almindelig&quot;, &quot;MOMS7&quot;, &quot;Reduceret&quot;, &quot;InVAT7&quot;, &quot;Reduceret&quot;, &quot;TREDJE&quot;, &quot;Ingen&quot;, &quot;InVAT0&quot;, &quot;Ingen&quot;, &quot;Andet")</span><span class="sxs-lookup"><span data-stu-id="0c23a-301">CASE (@.Code, "VAT19", "Regular", "InVAT19", "Regular", "VAT7", "Reduced", "InVAT7", "Reduced", "THIRD", "None", "InVAT0", "None", "Other")</span></span>

4.  <span data-ttu-id="0c23a-302">I feltet **Formel** skal du skrive **SAG(@.NiveauViaOpslag, Beskatningsniveau.'Almindelig beskatning', "Almindelig", Beskatningsniveau.'Reduceret beskatning', "Reduceret", Beskatningsniveau.'Ingen beskatning', "Ingen", "Andet")**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-302">In the **Formula** field, enter **CASE(@.LevelByLookup, TaxationLevel.'Regular taxation', "Regular", TaxationLevel.'Reduced taxation', "Reduced", TaxationLevel.'No taxation', "None", "Other")**.</span></span>

    ![Side med ER-operationsdesigner](./media/RCS-AppSpecParms-ConfigureFormat-ChangeLookupFld.PNG)
    
    <span data-ttu-id="0c23a-304">Bemærk, at udtrykket i feltet **Model.Data.Opsummering.Niveau** returnerer nu beskatningsniveauet baseret på momskoden for den aktuelle post og det sæt regler, som en erhvervsbruger konfigurerer i opslagsdatakilden **Model.Data.Vælger**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-304">Notice that the expression of the **Model.Data.Summary.Level** field will now return the taxation level, based on the tax code of the current record and the set of rules that a business user configures in the **Model.Data.Selector** lookup data source.</span></span>
    
5.  <span data-ttu-id="0c23a-305">Vælg **Gem**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-305">Select **Save**.</span></span>
6.  <span data-ttu-id="0c23a-306">Luk siden **Formeldesigner**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-306">Close **Formula designer** page.</span></span>
7.  <span data-ttu-id="0c23a-307">Vælg **OK**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-307">Select **OK**.</span></span>
8.  <span data-ttu-id="0c23a-308">Vælg **Gem**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-308">Select **Save**.</span></span>
9.  <span data-ttu-id="0c23a-309">Luk siden **Formatdesigner**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-309">Close **Format designer** page.</span></span>

## <a name="complete-the-draft-version-of-a-derived-format"></a><span data-ttu-id="0c23a-310">Fuldfør kladdeversionen af et afledt format</span><span class="sxs-lookup"><span data-stu-id="0c23a-310">Complete the draft version of a derived format</span></span>

1.  <span data-ttu-id="0c23a-311">I oversigtspanelet **Versioner** skal du vælge **Skift status**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-311">On the **Versions** FastTab, select **Change status**.</span></span>
2.  <span data-ttu-id="0c23a-312">Vælg **Fuldfør**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-312">Select **Complete**.</span></span>
3.  <span data-ttu-id="0c23a-313">Vælg **OK**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-313">Select **OK**.</span></span>

## <a name="export-completed-version-of-modified-format"></a><span data-ttu-id="0c23a-314">Eksportér den fuldførte version af et tilpasset format</span><span class="sxs-lookup"><span data-stu-id="0c23a-314">Export completed version of modified format</span></span>

1.  <span data-ttu-id="0c23a-315">I konfigurationstræet skal du vælge elementet **Format for at lære, hvordan du søger efter LE-data**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-315">In the configuration tree, select the **Format to learn how to look up LE data** item.</span></span>
2.  <span data-ttu-id="0c23a-316">På oversigtspanelet **Versioner** skal du vælge den post, der har statussen **Fuldført**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-316">On the **Versions** FastTab, select the record that has a status of **Completed**.</span></span>
3.  <span data-ttu-id="0c23a-317">Vælg **Udveksling**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-317">Select **Exchange**.</span></span>
4.  <span data-ttu-id="0c23a-318">Vælg **Eksporter som XML-fil**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-318">Select **Export as XML file**.</span></span>
5.  <span data-ttu-id="0c23a-319">Vælg **OK**.</span><span class="sxs-lookup"><span data-stu-id="0c23a-319">Select **OK**.</span></span>
6.  <span data-ttu-id="0c23a-320">Webbrowseren henter en **Format for at lære, hvordan du søger efter LE-data.xml**-fil.</span><span class="sxs-lookup"><span data-stu-id="0c23a-320">The web browser downloads a **Format to learn how to look up LE data.xml** file.</span></span> <span data-ttu-id="0c23a-321">Gem filen lokalt.</span><span class="sxs-lookup"><span data-stu-id="0c23a-321">Store this file locally.</span></span>

<span data-ttu-id="0c23a-322">Gentag trinnene i dette afsnit for overordnede elementer i formatet **Format til at lære, hvordan du søger efter LE-data**, og gem følgende filer lokalt:</span><span class="sxs-lookup"><span data-stu-id="0c23a-322">Repeat steps in this section for parent items of the **Format to learn how to look up LE data** format, and store the following files locally:</span></span>

-   <span data-ttu-id="0c23a-323">Format til at lære parameteriserede kald.xml</span><span class="sxs-lookup"><span data-stu-id="0c23a-323">Format to learn parameterized calls.xml</span></span>
-   <span data-ttu-id="0c23a-324">Tilknytning for at lære parameteriserede kald.xml</span><span class="sxs-lookup"><span data-stu-id="0c23a-324">Mapping to learn parameterized calls.xml</span></span>
-   <span data-ttu-id="0c23a-325">Model til at lære parameteriserede kald.xml</span><span class="sxs-lookup"><span data-stu-id="0c23a-325">Model to learn parameterized calls.xml</span></span>

<span data-ttu-id="0c23a-326">Du kan få mere at vide om konfigurationen af ER-formatet **Format til at lære, hvordan du søger efter LE-data** til at konfigurere juridisk enhedsafhængige sæt af momskoder for at filtrere momstransaktioner efter forskellige beskatningsniveauer ved at fuldføre trinnene i emnet [Konfigurer parametrene for et ER-format for hver juridisk enhed](er-app-specific-parameters-set-up.md).</span><span class="sxs-lookup"><span data-stu-id="0c23a-326">To learn how to use the configured **Format to learn how to look up LE data** ER format to set up legal entity–dependent sets of tax codes to filter tax transactions by different taxation levels, complete the steps in the [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md) topic.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="0c23a-327">Yderligere ressourcer</span><span class="sxs-lookup"><span data-stu-id="0c23a-327">Additional resources</span></span>

[<span data-ttu-id="0c23a-328">Formeldesigner i elektronisk rapportering</span><span class="sxs-lookup"><span data-stu-id="0c23a-328">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="0c23a-329">Konfigurere parametrene for et ER-format for hver juridisk enhed</span><span class="sxs-lookup"><span data-stu-id="0c23a-329">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)

[<span data-ttu-id="0c23a-330">Konfigurere opslagsdatakilder til at bruge den ER-programspecifikke parameterfunktion</span><span class="sxs-lookup"><span data-stu-id="0c23a-330">Configure Lookup data sources to use the ER application-specific parameters feature</span></span>](er-lookup-data-sources.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
