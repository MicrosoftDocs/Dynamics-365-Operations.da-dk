---
title: "Bedste fremgangsmåder for import af bilag ved hjælp af enheden Finanskladde"
description: "Dette emne indeholder tip om import af data til finanskladden ved hjælp af enheden Finanskladde."
author: ShylaThompson
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Application User
ms.reviewer: shylaw
ms.search.scope: Core, Operations
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: d9747ba144d56c9410846769e5465372c89ea111
ms.openlocfilehash: 7bc24b5e3bc13d6dbb4313f25ff44d8fae0998cc
ms.contentlocale: da-dk
ms.lasthandoff: 08/08/2018

---

# <a name="best-practices-for-importing-vouchers-by-using-the-general-journal-entity"></a><span data-ttu-id="f9a80-103">Bedste fremgangsmåder for import af bilag ved hjælp af enheden Finanskladde</span><span class="sxs-lookup"><span data-stu-id="f9a80-103">Best practices for importing vouchers by using the General journal entity</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="f9a80-104">Dette emne indeholder tip om import af data til finanskladden ved hjælp af enheden Finanskladde.</span><span class="sxs-lookup"><span data-stu-id="f9a80-104">This topic provides tips for importing data into the General journal by using the General journal entity.</span></span>  

<span data-ttu-id="f9a80-105">Du kan bruge enheden Finanskladde til at importere bilag, der har kontotypen eller modkontotypen **Finans, Kunde, Kreditor eller Bank**.</span><span class="sxs-lookup"><span data-stu-id="f9a80-105">You can use the General journal entity to import vouchers that have an account or offset account type of **Ledger, Customer, Vendor, or Bank**.</span></span> <span data-ttu-id="f9a80-106">Bilaget kan angives som én linje, der bruger både feltet **Konto** og feltet **Modkonto**, eller som et flerlinjet bilag, hvor kun feltet **Konto** bruges (og **Modkonto** er tomt på hver linje).</span><span class="sxs-lookup"><span data-stu-id="f9a80-106">The voucher can be entered as one line, using both the **Account** field and the **Offset account** field, or as a multi-line voucher, where only the **Account** field is used (and the **Offset account** is left blank on each line).</span></span> <span data-ttu-id="f9a80-107">Enheden Finanskladde understøtter ikke alle kontotyper.</span><span class="sxs-lookup"><span data-stu-id="f9a80-107">The General journal entity doesn't support every account type.</span></span> <span data-ttu-id="f9a80-108">I stedet findes andre enheder for scenarier, hvor der kræves forskellige kombinationer af kontotyper.</span><span class="sxs-lookup"><span data-stu-id="f9a80-108">Instead, other entities exist for scenarios where different combinations of account types are required.</span></span> <span data-ttu-id="f9a80-109">Hvis du f.eks. vil importere en projekttransaktion, skal du bruge enheden Projektudgiftskladde.</span><span class="sxs-lookup"><span data-stu-id="f9a80-109">For example, to import a project transaction, use the Project expense journal entity.</span></span> <span data-ttu-id="f9a80-110">Hver enhed er udviklet til at understøtte specifikke scenarier, hvilket betyder, at flere felter kan være tilgængelige i enheder i disse scenarier, men ikke i enheder for et andet scenarie.</span><span class="sxs-lookup"><span data-stu-id="f9a80-110">Each entity is designed to support specific scenarios, which means additional fields may be available in entities for those scenarios but not in entities for a different scenario.</span></span>

## <a name="setup"></a><span data-ttu-id="f9a80-111">Konfiguration</span><span class="sxs-lookup"><span data-stu-id="f9a80-111">Setup</span></span>
<span data-ttu-id="f9a80-112">Før du importerer ved hjælp af enheden Finanskladde, skal du validere følgende opsætning:</span><span class="sxs-lookup"><span data-stu-id="f9a80-112">Before you import by using the General journal entity, validate the following setup:</span></span>

-   <span data-ttu-id="f9a80-113">**Opsætning af nummerserien for kladdebatchnummeret** – Når du importerer ved hjælp af enheden Finanskladde, anvender kladdebatchnummeret som standard den nummerserie, der er defineret i de generelle finansparametre.</span><span class="sxs-lookup"><span data-stu-id="f9a80-113">**Number sequence setup for the journal batch number** - By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters.</span></span> <span data-ttu-id="f9a80-114">Hvis du indstiller nummerserien for kladdebatchnummeret til **Manuel**, anvendes der ikke et standardnummer.</span><span class="sxs-lookup"><span data-stu-id="f9a80-114">If you set the number sequence for the journal batch number to **Manual**, a default number isn't applied.</span></span> <span data-ttu-id="f9a80-115">Denne opsætning understøttes ikke.</span><span class="sxs-lookup"><span data-stu-id="f9a80-115">This setup isn't supported.</span></span>
-   <span data-ttu-id="f9a80-116">**Konfiguration af økonomiske dimensioner** – Hver organisation skal definere rækkefølgen af økonomiske dimensioner, når der bruges enheder til at importere posteringer.</span><span class="sxs-lookup"><span data-stu-id="f9a80-116">**Financial dimension configuration** - Every organization must define the order of financial dimensions when entities are used to import transactions.</span></span> <span data-ttu-id="f9a80-117">Rækkefølgen defineres for formatet **Integration af finansdimensioner** på **Finans** &gt; **Kontoplaner** &gt; **Dimensioner** &gt; **Konfiguration af økonomisk dimension til integrering af programmer** &gt; **Vælg dataenheder**.</span><span class="sxs-lookup"><span data-stu-id="f9a80-117">The order is defined for the **Ledger dimensions integration** format, at **General ledger** &gt; **Chart of accounts** &gt; **Dimensions** &gt; **Financial dimension configuration for integrating applications** &gt; **Select data entities**.</span></span> <span data-ttu-id="f9a80-118">Segmenterne i finanskontoen, der importeres, skal have samme rækkefølge.</span><span class="sxs-lookup"><span data-stu-id="f9a80-118">The segments of the ledger account that is imported must have the same order.</span></span> <span data-ttu-id="f9a80-119">I modsat fald opstår der en fejl under importen.</span><span class="sxs-lookup"><span data-stu-id="f9a80-119">Otherwise, an error will occur during import.</span></span>

## <a name="general-journal-entity-setup"></a><span data-ttu-id="f9a80-120">Konfiguration af enheden Finanskladde</span><span class="sxs-lookup"><span data-stu-id="f9a80-120">General journal entity setup</span></span>
<span data-ttu-id="f9a80-121">To indstillinger i Datastyring påvirker, hvordan standardkladdebatchnummer eller bilagsnummer anvendes:</span><span class="sxs-lookup"><span data-stu-id="f9a80-121">Two settings in Data management affect how the default journal batch number or voucher number is applied:</span></span>

-   <span data-ttu-id="f9a80-122">**Sætbaseret behandling** (på dataenheden)</span><span class="sxs-lookup"><span data-stu-id="f9a80-122">**Set-based processing** (on the data entity)</span></span>
-   <span data-ttu-id="f9a80-123">**Auto-genereret** (på felttilknytningen)</span><span class="sxs-lookup"><span data-stu-id="f9a80-123">**Auto-generated** (on the field mapping)</span></span>

<span data-ttu-id="f9a80-124">De følgende afsnit beskriver virkningen af disse indstillinger og forklarer også, hvordan kladdebatchnumre og bilagsnumre genereres.</span><span class="sxs-lookup"><span data-stu-id="f9a80-124">The following sections describe the effect of these settings, and also explain how journal batch numbers and voucher numbers are generated.</span></span>

### <a name="journal-batch-number"></a><span data-ttu-id="f9a80-125">Kladdebatchnummer</span><span class="sxs-lookup"><span data-stu-id="f9a80-125">Journal batch number</span></span>

-   <span data-ttu-id="f9a80-126">Indstillingen **Angivet på basis af-behandling** på enheden Finanskladde påvirker ikke den måde, kladdebatchnumre genereres på.</span><span class="sxs-lookup"><span data-stu-id="f9a80-126">The **Set-based processing** setting on the General journal entity doesn't affect the way that journal batch numbers are generated.</span></span>
-   <span data-ttu-id="f9a80-127">Hvis feltet **Kladdebatchnummer** er indstillet til **Auto-genereret**, oprettes der et nyt kladdebatchnummer for hver linje, der importeres.</span><span class="sxs-lookup"><span data-stu-id="f9a80-127">If the **Journal batch number** field is set to **Auto-generated**, a new journal batch number is created for every line that is imported.</span></span> <span data-ttu-id="f9a80-128">Denne funktionsmåde anbefales ikke.</span><span class="sxs-lookup"><span data-stu-id="f9a80-128">This behavior isn't recommended.</span></span> <span data-ttu-id="f9a80-129">Indstillingen **Auto-genereret** findes i importprojektet under **Vis tilknytning** under fanen **Tilknytning af oplysninger**.</span><span class="sxs-lookup"><span data-stu-id="f9a80-129">The **Auto-generated** setting is found on the import project, under **View map**, on the **Mapping details** tab.</span></span>
-   <span data-ttu-id="f9a80-130">Hvis feltet **Kladdebatchnummer** ikke er indstillet til **Auto-genereret**, oprettes kladdebatchnummeret på følgende måde:</span><span class="sxs-lookup"><span data-stu-id="f9a80-130">If the **Journal batch number** field isn't set to **Auto-generated**, the journal batch number is created as follows:</span></span>
    -   <span data-ttu-id="f9a80-131">Hvis det kladdebatchnummer, der er defineret i den importerede fil, svarer til en eksisterende, ikke-bogført kassekladde, importeres alle linjer, der har et tilsvarende kladdebatchnummer, til den eksisterende kladde.</span><span class="sxs-lookup"><span data-stu-id="f9a80-131">If the journal batch number that is defined in the imported file matches an existing, unposted daily journal, all lines that have a matching journal batch number are imported into the existing journal.</span></span> <span data-ttu-id="f9a80-132">Linjerne importeres aldrig til et bogført kladdebatchnummer.</span><span class="sxs-lookup"><span data-stu-id="f9a80-132">Lines are never imported into a posted journal batch number.</span></span> <span data-ttu-id="f9a80-133">I stedet oprettes et nyt nummer.</span><span class="sxs-lookup"><span data-stu-id="f9a80-133">Instead, a new number is created.</span></span>
    -   <span data-ttu-id="f9a80-134">Hvis det kladdebatchnummer, der er defineret i den importerede fil, ikke svarer til en eksisterende, ikke-bogført kassekladde, grupperes alle linjer, der har det samme kladdebatchnummer, i en ny kladde.</span><span class="sxs-lookup"><span data-stu-id="f9a80-134">If the journal batch number that is defined in the imported file doesn't match an existing, unposted daily journal, all lines that have the same journal batch number are grouped under a new journal.</span></span> <span data-ttu-id="f9a80-135">For eksempel importeres alle linjer, der har kladdebatchnummer 1, til en ny kladde, og alle linjer, der har kladdebatchnummer 2, importeres til en anden ny kladde.</span><span class="sxs-lookup"><span data-stu-id="f9a80-135">For example, all lines that have a journal batch number of 1 are imported into a new journal, and all lines that have a journal batch number of 2 are imported into a second new journal.</span></span> <span data-ttu-id="f9a80-136">Kladdebatchnummeret oprettes ved hjælp af den nummerserie, der er defineret i finansparametrene.</span><span class="sxs-lookup"><span data-stu-id="f9a80-136">The journal batch number is created by using the number sequence that is defined in the General ledger parameters.</span></span>

### <a name="voucher-number"></a><span data-ttu-id="f9a80-137">Bilagsnummer</span><span class="sxs-lookup"><span data-stu-id="f9a80-137">Voucher number</span></span>

-   <span data-ttu-id="f9a80-138">Når du bruger indstillingen **Angivet på basis af-behandling** på enheden Finanskladde, skal bilagsnummeret gives i den importerede fil.</span><span class="sxs-lookup"><span data-stu-id="f9a80-138">When you use the **Set-based processing** setting on the General journal entity, the voucher number must be provided in the imported file.</span></span> <span data-ttu-id="f9a80-139">Hver transaktion i finanskladden tildeles det bilagsnummer, der er angivet i den importerede fil, også selvom bilaget ikke er afstemt.</span><span class="sxs-lookup"><span data-stu-id="f9a80-139">Every transaction in the General journal is assigned the voucher number that is provided in the imported file, even if the voucher isn’t balanced.</span></span> <span data-ttu-id="f9a80-140">Hvis du vil bruge sætbaseret behandling, men også vil bruge den nummerserie, der er defineret for bilagsnumre, er der et hotfix i frigivelsen fra februar 2016.</span><span class="sxs-lookup"><span data-stu-id="f9a80-140">If you want to use set-based processing, but you also want to use the number sequence that is defined for voucher numbers, a hotfix has been provided for the February 2016 release.</span></span> <span data-ttu-id="f9a80-141">Hotfix-nummer er 3170316 og kan hentes fra Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="f9a80-141">The hotfix number is 3170316 and available for download from Lifecycle services (LCS).</span></span> <span data-ttu-id="f9a80-142">Du kan finde flere oplysninger i [Download hotfixes fra Lifecycle Services](../migration-upgrade/download-hotfix-lcs.md).</span><span class="sxs-lookup"><span data-stu-id="f9a80-142">For more information, see [Download hotfixes from Lifecycle Services](../migration-upgrade/download-hotfix-lcs.md).</span></span>
    -   <span data-ttu-id="f9a80-143">Hvis du vil aktivere denne funktion, skal du på det kladdenavn, der bruges til import, indstille **Nummertildeling under bogføring** til **Ja**.</span><span class="sxs-lookup"><span data-stu-id="f9a80-143">To enable this functionality, on the journal name that is used for imports, set **Number allocation at posting** to **Yes**.</span></span>
    -   <span data-ttu-id="f9a80-144">Et bilagsnummer skal stadig defineres i den importerede fil.</span><span class="sxs-lookup"><span data-stu-id="f9a80-144">A voucher number must still be defined in the imported file.</span></span> <span data-ttu-id="f9a80-145">Men dette nummer er midlertidigt og overskrives af bilagsnummeret, når kladden bogføres.</span><span class="sxs-lookup"><span data-stu-id="f9a80-145">However, this number is temporary and is overwritten by the voucher number when the journal is posted.</span></span> <span data-ttu-id="f9a80-146">Du skal sikre dig, at linjerne i kladden er grupperet korrekt efter midlertidigt bilagsnummer.</span><span class="sxs-lookup"><span data-stu-id="f9a80-146">You must make sure that the lines of the journal are grouped correctly by temporary voucher number.</span></span> <span data-ttu-id="f9a80-147">Under bogføring findes der f.eks. tre linjer, der har det midlertidige bilagsnummer 1.</span><span class="sxs-lookup"><span data-stu-id="f9a80-147">For example, during posting, three lines are found that have a temporary voucher number of 1.</span></span> <span data-ttu-id="f9a80-148">Det midlertidige bilagsnummer for alle tre linjer overskrives med det næste nummer i nummerserien.</span><span class="sxs-lookup"><span data-stu-id="f9a80-148">The temporary voucher number of all three lines is overwritten by the next number in the number sequence.</span></span> <span data-ttu-id="f9a80-149">Hvis disse tre linjer ikke er en afstemt indgang, bogføres bilaget ikke.</span><span class="sxs-lookup"><span data-stu-id="f9a80-149">If those three lines aren’t a balanced entry, the voucher isn't posted.</span></span> <span data-ttu-id="f9a80-150">Hvis linjer, der har det midlertidige bilagsnummer 2, overskrives dette nummer derefter med det næste bilagsnummer i nummerserien, og så videre.</span><span class="sxs-lookup"><span data-stu-id="f9a80-150">Next, if lines are found that have a temporary voucher number of 2, this number is overwritten by the next voucher number in the number sequence, and so on.</span></span>

<!-- -->

-   <span data-ttu-id="f9a80-151">Når du ikke bruger indstillingen **Angivet på basis af-behandling**, behøver du ikke at angive et bilagsnummer i den importerede fil.</span><span class="sxs-lookup"><span data-stu-id="f9a80-151">When you don't use the **Set-based processing** setting, you do not need to provide a voucher number in the imported file.</span></span> <span data-ttu-id="f9a80-152">Bilagsnumrene oprettes under importen baseret på opsætningen af kladdenavnet (**Kun ét bilagsnummer**, **Ved saldo** osv.).</span><span class="sxs-lookup"><span data-stu-id="f9a80-152">The voucher numbers are created during import, based on the setup of the journal name (**One voucher only**, **In connection of balance**, and so on).</span></span> <span data-ttu-id="f9a80-153">For eksempel, hvis kladdenavnet er defineret som **Ved saldo** i den første linje, modtages et nyt standardbilagsnummer.</span><span class="sxs-lookup"><span data-stu-id="f9a80-153">For example, if the journal name is defined as **In connection of balance**, the first line receives a new default voucher number.</span></span> <span data-ttu-id="f9a80-154">Systemet evaluerer derefter linjen for at afgøre, om debiteringer er lig med kreditterne.</span><span class="sxs-lookup"><span data-stu-id="f9a80-154">The system then evaluates the line to determine whether the debits equal the credits.</span></span> <span data-ttu-id="f9a80-155">Hvis der findes en modkonto på linjen, modtager den næste linje, der importeres, et nyt bilagsnummer.</span><span class="sxs-lookup"><span data-stu-id="f9a80-155">If an offset account exists on the line, the next line that is imported receives a new voucher number.</span></span> <span data-ttu-id="f9a80-156">Hvis der ikke findes en modkonto, evaluerer systemet, om debiteringer er lig med krediteringer, efterhånden som hver ny linje importeres.</span><span class="sxs-lookup"><span data-stu-id="f9a80-156">If no offset account exists, the system evaluates whether the debits equal the credits as each new line is imported.</span></span>
-   <span data-ttu-id="f9a80-157">Hvis feltet **Bilagsnummer** er indstillet til **Auto-genereret**, vil importen ikke lykkes.</span><span class="sxs-lookup"><span data-stu-id="f9a80-157">If the **Voucher number** field is set to **Auto-generated**, the import won't succeed.</span></span> <span data-ttu-id="f9a80-158">Indstillingen **Auto-genereret** for feltet **Bilagsnummer** understøttes ikke.</span><span class="sxs-lookup"><span data-stu-id="f9a80-158">The **Auto-generated** setting for the **Voucher number** field isn't supported.</span></span>

<span data-ttu-id="f9a80-159">Som standard bruger finanskladdeenheden sætbaseret behandling.</span><span class="sxs-lookup"><span data-stu-id="f9a80-159">By default, the General journal entity uses set-based processing.</span></span> <span data-ttu-id="f9a80-160">Når du har evalueret forretningsbehovet for din organisation, kan du ændre indstillingen **Angivet på basis af-behandling** ved at klikke på **Dataenheder** i arbejdsområdet **Datastyring**.</span><span class="sxs-lookup"><span data-stu-id="f9a80-160">After you evaluate the business requirements for your organization, you can change the **Set-based processing** setting by clicking **Data entities** in the **Data management** workspace.</span></span> <span data-ttu-id="f9a80-161">Sætbaseret behandling bruges til at gøre importprocessen hurtigere.</span><span class="sxs-lookup"><span data-stu-id="f9a80-161">Set-based processing is used to speed up the import process.</span></span> <span data-ttu-id="f9a80-162">Hvis du ikke bruger sætbaseret behandling, bliver import af finanskladdeenheden langsommere.</span><span class="sxs-lookup"><span data-stu-id="f9a80-162">If you don't use set-based processing, import of the General journal entity import will be slower.</span></span>




