<span data-ttu-id="015d7-101">Når du kopierer en database mellem miljøer, skal du køre værktøjet til fornyet klargøring af miljøet, før den kopierede database er fuldt funktionsdygtigt, for at sikre, at alle Retail-komponenter er opdaterede.</span><span class="sxs-lookup"><span data-stu-id="015d7-101">When copying a database between environments, you will need to run the environment re-provisioning tool before the copied database is fully functional, to ensure that all Retail components are up-to-date.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="015d7-102">Det anbefales, at du kører denne procedure, uanset om du bruger Retail-komponenter eller ej, da Retail-funktioner er inkluderet i alle miljøer.</span><span class="sxs-lookup"><span data-stu-id="015d7-102">We recommend that you run this procedure whether you are using Retail components or not, because Retail functionality is included in all environments.</span></span> 

<span data-ttu-id="015d7-103">Før du fortsætter, skal du sikre dig, at følgende forudsætninger er opfyldt:</span><span class="sxs-lookup"><span data-stu-id="015d7-103">Before you continue, you must make sure that the following prerequisites are met:</span></span>
1. <span data-ttu-id="015d7-104">Hvis du opgraderer til frigivelsen 7.2.11792.56024 fra juli 2017 (også kaldet 7.2), skal du anvende følgende X++-hotfixes til programmet i destinationsmiljøet, før du kører dataopgraderingen i det pågældende miljø.</span><span class="sxs-lookup"><span data-stu-id="015d7-104">If you are upgrading to the July 2017 release (also known as 7.2) 7.2.11792.56024, apply the following application X++ hotfixes in the destination environment before running the data upgrade in that environment.</span></span> <span data-ttu-id="015d7-105">De kan forhindre forskellige fejl i at opstå under dataopgraderingen:</span><span class="sxs-lookup"><span data-stu-id="015d7-105">These will prevent various errors occurring during the data upgrade:</span></span>

    - <span data-ttu-id="015d7-106">KB 4036156 - lille versionsopgradering til Retail - 'Variantnummerserien er ikke angivet'.</span><span class="sxs-lookup"><span data-stu-id="015d7-106">KB 4036156 - Retail minor version upgrade - 'Variant number sequence is not set.'</span></span> <span data-ttu-id="015d7-107">Denne programrettelsespakke indeholder også KB 4035399 og KB 4035751.</span><span class="sxs-lookup"><span data-stu-id="015d7-107">This fix package also includes KB 4035399 and KB 4035751.</span></span> <span data-ttu-id="015d7-108">Bemærk, at du mindst skal have installeret Platform Update 9 for at kunne bruge denne pakke.</span><span class="sxs-lookup"><span data-stu-id="015d7-108">Note that you must have a minimum of Platform Update 9 to use this package.</span></span> <span data-ttu-id="015d7-109">Hvis du ikke er sikker, skal du installere de nyeste binære filer.</span><span class="sxs-lookup"><span data-stu-id="015d7-109">If you are unsure, install the latest binaries.</span></span>
    
2. <span data-ttu-id="015d7-110">Hvis du opgraderer fra Microsoft Dynamics AX 2012, skal du installere følgende program X++-rettelser til programmet i destinationsmiljøet, før du kører dataopgraderingen:</span><span class="sxs-lookup"><span data-stu-id="015d7-110">If you are upgrading from Microsoft Dynamics AX 2012, install the following application X++ fixes in the destination environment before you run the data upgrade:</span></span>
    - <span data-ttu-id="015d7-111">KB 4033183 - Dynamics AX 2012 R2 eller Dynamics AX 2012 R3 Pre-CU8 ikke-detailopgradering mislykkes med fejlen Objektet blev ikke fundet til dbo. RETAILTILLLAYOUTZONE.</span><span class="sxs-lookup"><span data-stu-id="015d7-111">KB 4033183 - Dynamics AX 2012 R2 or Dynamics AX 2012 R3 Pre-CU8 non-retail upgrade fails with Object not found for dbo.RETAILTILLLAYOUTZONE.</span></span>
    - <span data-ttu-id="015d7-112">KB 4040692 - Dynamics AX 2012 R3 til Microsoft Dynamics 365 for Operations 7.2-opgraderingen mislykkes på grund af duplikeret indeks for RetailSalesLine på SalesLineIdx.</span><span class="sxs-lookup"><span data-stu-id="015d7-112">KB 4040692 - Dynamics AX 2012 R3 to Microsoft Dynamics 365 for Operations 7.2 upgrade fails on RetailSalesLine duplicate index on SalesLineIdx.</span></span>
    - <span data-ttu-id="015d7-113">KB 4035490 - Ydelsesproblem med opgraderingsscriptet til GeneralJournalAccountEntry MainAccount-feltet.</span><span class="sxs-lookup"><span data-stu-id="015d7-113">KB 4035490 - Performance issue with GeneralJournalAccountEntry MainAccount field upgrade script.</span></span>


<span data-ttu-id="015d7-114">Udfør følgende trin for at køre værktøjet til fornyet klargøring af miljøet.</span><span class="sxs-lookup"><span data-stu-id="015d7-114">Follow these steps to run the Environment reprovisioning tool.</span></span>

1. <span data-ttu-id="015d7-115">Vælg **Installerbar softwarepakke** i Delt aktivbibliotek.</span><span class="sxs-lookup"><span data-stu-id="015d7-115">In the Shared asset library, select **Software deployable package**.</span></span>
2. <span data-ttu-id="015d7-116">Hent værktøjet til fornyet klargøring af miljøet.</span><span class="sxs-lookup"><span data-stu-id="015d7-116">Download the Environment reprovisioning tool.</span></span>
3. <span data-ttu-id="015d7-117">Vælg **Installerbar softwarepakke** i det delte aktivbibliotek til dit projekt.</span><span class="sxs-lookup"><span data-stu-id="015d7-117">In the asset library for your project, select **Software deployable package**.</span></span>
4. <span data-ttu-id="015d7-118">Vælg **Ny** for at oprette en ny pakke.</span><span class="sxs-lookup"><span data-stu-id="015d7-118">Select **New** to create a new package.</span></span>
5. <span data-ttu-id="015d7-119">Angiv et navn til og en beskrivelse af pakken.</span><span class="sxs-lookup"><span data-stu-id="015d7-119">Enter a name and description for the package.</span></span> <span data-ttu-id="015d7-120">Du kan bruge **Værktøjet til fornyet klargøring af miljøet** som pakkenavn.</span><span class="sxs-lookup"><span data-stu-id="015d7-120">You can use **Environment reprovisioning tool** as the package name.</span></span>
6. <span data-ttu-id="015d7-121">Overfør den pakke, du har hentet tidligere.</span><span class="sxs-lookup"><span data-stu-id="015d7-121">Upload the package that you downloaded earlier.</span></span>
7. <span data-ttu-id="015d7-122">Vælg **Vedligehold** > **Anvend opdateringer** på siden **Miljøoplysninger**.</span><span class="sxs-lookup"><span data-stu-id="015d7-122">On the **Environment details** page for your target environment, select **Maintain** > **Apply updates**.</span></span>
8. <span data-ttu-id="015d7-123">Vælg det værktøj til fornyet klargøring af miljøet, du har overført tidligere, og vælg derefter **Anvend** for at anvende pakken.</span><span class="sxs-lookup"><span data-stu-id="015d7-123">Select the Environment reprovisioning tool that you uploaded earlier, and then select **Apply** to apply the package.</span></span>
9. <span data-ttu-id="015d7-124">Overvåg status for installationen af pakken.</span><span class="sxs-lookup"><span data-stu-id="015d7-124">Monitor the progress of the package deployment.</span></span> 

<span data-ttu-id="015d7-125">Du kan finde flere oplysninger om, hvordan du anvender en pakke, der kan installeres, i [Anvende en installerbar pakke](../deployment/create-apply-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="015d7-125">For more information about how to apply a deployable package, see [Apply a deployable package](../deployment/create-apply-deployable-package.md).</span></span> <span data-ttu-id="015d7-126">Du kan finde flere oplysninger om, hvordan du manuelt anvender en pakke, der kan installeres, i [Anvende en installerbar pakke](../deployment/install-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="015d7-126">For more information about how to manually apply a deployable package, see [Install a deployable package](../deployment/install-deployable-package.md).</span></span>
