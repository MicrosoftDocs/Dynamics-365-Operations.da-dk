---
title: Resultater fra Machine Learning Models (prøveversion)
description: I dette emne beskrives forvekslingsmatrixer, klassificeringsproblemer og nøjagtighed inden for maskinel indlæringsmodeller (ML). Formålet er at forbedre din forståelse for nøjagtighed i ML-forudsigelsesresultater.
author: ShivamPandey-msft
ms.date: 06/05/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-07-14
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: a9642bd21ffc0770be61677220e0e72986586047
ms.sourcegitcommit: cabd991fda2bfcabb55db84c225b24a7bb061631
ms.translationtype: HT
ms.contentlocale: da-DK
ms.lasthandoff: 05/12/2021
ms.locfileid: "6028197"
---
# <a name="results-of-machine-learning-models-preview"></a><span data-ttu-id="d8d96-104">Resultater fra Machine Learning Models (prøveversion)</span><span class="sxs-lookup"><span data-stu-id="d8d96-104">Results of machine learning models (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="d8d96-105">I dette emne beskrives forvekslingsmatrixer, klassificeringsproblemer og nøjagtighed inden for maskinel indlæringsmodeller (ML).</span><span class="sxs-lookup"><span data-stu-id="d8d96-105">This topic discusses confusion matrices, classification problems, and accuracy in machine learning (ML) models.</span></span> <span data-ttu-id="d8d96-106">Formålet er at forbedre din forståelse for nøjagtighed i ML-forudsigelsesresultater.</span><span class="sxs-lookup"><span data-stu-id="d8d96-106">The purpose is to enhance your understanding of accuracy in ML prediction results.</span></span> <span data-ttu-id="d8d96-107">Målgruppen omfatter ingeniører, analytikere og ledere, der vil opbygge deres viden og færdigheder inden for datavidenskab.</span><span class="sxs-lookup"><span data-stu-id="d8d96-107">The target audience includes engineers, analysts, and managers who want to build their knowledge and skills in data science.</span></span>

## <a name="confusion-matrix"></a><span data-ttu-id="d8d96-108">Forvekslingsmatrix</span><span class="sxs-lookup"><span data-stu-id="d8d96-108">Confusion matrix</span></span>
<span data-ttu-id="d8d96-109">Når et overvåget ML-problem oplæres i et sæt historiske data, testes de ved hjælp af data, der tilbageholdes fra uddannelsesprocessen.</span><span class="sxs-lookup"><span data-stu-id="d8d96-109">After a supervised ML problem is trained on a set of historical data, it's tested by using data that is withheld from the training process.</span></span> <span data-ttu-id="d8d96-110">På denne måde kan du sammenligne forudsigelser fra den uddannede model med de faktiske værdier.</span><span class="sxs-lookup"><span data-stu-id="d8d96-110">In this way, you can compare the predictions from the trained model with the actual values.</span></span> <span data-ttu-id="d8d96-111">Forvekslingsmatrixen er en metode til at evaluere, hvor vellykkede et klassifikationsproblem er, og hvor det medfører fejl (dvs. hvor det bliver "forvirret").</span><span class="sxs-lookup"><span data-stu-id="d8d96-111">The confusion matrix provides a means of evaluating how successful a classification problem is and where it makes mistakes (that is, where it becomes "confused").</span></span>

<span data-ttu-id="d8d96-112">Din målsætning kan f.eks. være at forudsige, om et kæledyr er en hund eller en kat, baseret på nogle fysiske og funktionsmæssige attributter.</span><span class="sxs-lookup"><span data-stu-id="d8d96-112">For example, your objective is to predict whether a pet is a dog or a cat, based on some physical and behavioral attributes.</span></span> <span data-ttu-id="d8d96-113">Hvis du har et test-datasæt, der indeholder 30 hunde og 20 katte, kan forvekslingsmatrixen ligne følgende illustration.</span><span class="sxs-lookup"><span data-stu-id="d8d96-113">If you have a test dataset that contains 30 dogs and 20 cats, the confusion matrix might resemble the following illustration.</span></span>

![Eksempel på forudsigelse af art](media/species-prediction-matrix.png)

<span data-ttu-id="d8d96-115">Tallene i de grønne celler viser korrekte forudsigelser.</span><span class="sxs-lookup"><span data-stu-id="d8d96-115">The numbers in the green cells represent correct predictions.</span></span> <span data-ttu-id="d8d96-116">Som du kan se, har modellen forventet en højere procentdel for katte.</span><span class="sxs-lookup"><span data-stu-id="d8d96-116">As you can see, the model predicted a higher percentage of the actual cats correctly.</span></span> <span data-ttu-id="d8d96-117">Det er let at beregne den overordnede nøjagtighed af modellen.</span><span class="sxs-lookup"><span data-stu-id="d8d96-117">The overall accuracy of the model is easy to calculate.</span></span> <span data-ttu-id="d8d96-118">I dette tilfælde er det 42 ÷ 50 eller 0,84.</span><span class="sxs-lookup"><span data-stu-id="d8d96-118">In this case, it's 42 ÷ 50, or 0.84.</span></span>

### <a name="multi-class-classifiers-in-a-confusion-matrix"></a><span data-ttu-id="d8d96-119">Multiklasse-klassificeringer i en forvekslingsmatrix</span><span class="sxs-lookup"><span data-stu-id="d8d96-119">Multi-class classifiers in a confusion matrix</span></span>

<span data-ttu-id="d8d96-120">De fleste diskussioner om forvekslingsmatrixen er fokuseret på binære klassificeringer som i det foregående eksempel.</span><span class="sxs-lookup"><span data-stu-id="d8d96-120">Most discussions about the confusion matrix are focused on binary classifiers, as in the preceding example.</span></span> <span data-ttu-id="d8d96-121">Dette er et særligt tilfælde, hvor der kan tages højde for andre målinger, f. eks. følsomhed og tilbagekaldelse.</span><span class="sxs-lookup"><span data-stu-id="d8d96-121">This case is a special case where other metrics can be considered, such as sensitivity and recall.</span></span>

<span data-ttu-id="d8d96-122">Derefter vil vi overveje et klassifikationsproblem for et økonomisk scenario, der har tre tilstande.</span><span class="sxs-lookup"><span data-stu-id="d8d96-122">Next, we will consider a classification problem for a finance scenario that has three states.</span></span> <span data-ttu-id="d8d96-123">Modellen bruges til at forudsige, om en debitorfaktura vil blive betalt til tiden, for sent eller meget for sent.</span><span class="sxs-lookup"><span data-stu-id="d8d96-123">The model predicts whether a customer invoice will be paid on time, late, or very late.</span></span> <span data-ttu-id="d8d96-124">Der betales f. eks. ud af 100 testfakturaer, 50 til tiden, 35 betales forsinket, og 15 betales meget for sent.</span><span class="sxs-lookup"><span data-stu-id="d8d96-124">For example, out of 100 test invoices, 50 are paid on time, 35 are paid late, and 15 are paid very late.</span></span> <span data-ttu-id="d8d96-125">I dette tilfælde kan en model oprette en forvekslingsmatrix, der ligner følgende illustration.</span><span class="sxs-lookup"><span data-stu-id="d8d96-125">In this case, a model might produce a confusion matrix that resembles the following illustration.</span></span>

![Model 1](media/payment-prediction-matrix.png)<span data-ttu-id="d8d96-127">]</span><span class="sxs-lookup"><span data-stu-id="d8d96-127">]</span></span>

<span data-ttu-id="d8d96-128">En forvekslingsmatrix giver betydeligt flere oplysninger end en simpel præcisionsmetrik.</span><span class="sxs-lookup"><span data-stu-id="d8d96-128">A confusion matrix provides significantly more information than a simple accuracy metric.</span></span> <span data-ttu-id="d8d96-129">Men det er stadig forholdsvis let at forstå.</span><span class="sxs-lookup"><span data-stu-id="d8d96-129">However, it's still relatively easy to understand.</span></span> <span data-ttu-id="d8d96-130">En forvekslingsmatrix fortæller dig, om du har et afstemt datasæt, hvor outputklasserne har samme antal.</span><span class="sxs-lookup"><span data-stu-id="d8d96-130">A confusion matrix tells you whether you have a balanced dataset where the output classes have similar counts.</span></span> <span data-ttu-id="d8d96-131">I multiklasse-scenariet får du at vide, hvor langt du er fra en forudsigelse, når outputklasserne er ordenstal, som i ovenstående eksempel på kundebetalinger.</span><span class="sxs-lookup"><span data-stu-id="d8d96-131">For the multi-class scenario, it tells you how far off a prediction might be when the output classes are ordinal, as in the preceding example about customer payments.</span></span>

## <a name="model-accuracy"></a><span data-ttu-id="d8d96-132">Modelnøjagtighed</span><span class="sxs-lookup"><span data-stu-id="d8d96-132">Model accuracy</span></span> 
<span data-ttu-id="d8d96-133">De forskellige nøjagtighedsmålinger har fordelen ved at kvantificere modelkvaliteten.</span><span class="sxs-lookup"><span data-stu-id="d8d96-133">Different accuracy metrics have the advantage of quantifying the model quality.</span></span> 

<span data-ttu-id="d8d96-134">Da nøjagtigheden er en nem metrikværdi for at forstå, er det et godt udgangspunkt at forklare en model til andre personer, især for brugerne af den model, der ikke er dataforskere.</span><span class="sxs-lookup"><span data-stu-id="d8d96-134">Because accuracy is an easy metric to understand, it's a good starting point for explaining a model to other people, especially to users of the model who aren't data scientists.</span></span> <span data-ttu-id="d8d96-135">Det er ikke nødvendigt at forstå statistikken for at forstå modellens nøjagtighed.</span><span class="sxs-lookup"><span data-stu-id="d8d96-135">No understanding of statistics is required to understand the model's accuracy.</span></span> <span data-ttu-id="d8d96-136">Når en forvekslingsmatrix er tilgængelig, giver den yderligere indblik i modellens præstation.</span><span class="sxs-lookup"><span data-stu-id="d8d96-136">When a confusion matrix is available, it provides further insight into the model's performance.</span></span>

<span data-ttu-id="d8d96-137">For at opnå en mere indgående forståelse bør der blive noteret flere udfordringer, der er forbundet med nøjagtigheden.</span><span class="sxs-lookup"><span data-stu-id="d8d96-137">However, for a more thorough understanding, several challenges that are associated with accuracy should be noted.</span></span> <span data-ttu-id="d8d96-138">Metrikværdiens anvendelighed afhænger af problemets kontekst.</span><span class="sxs-lookup"><span data-stu-id="d8d96-138">The usefulness of the metric depends on the context of the problem.</span></span> <span data-ttu-id="d8d96-139">Et spørgsmål, der ofte opstår i forbindelse med modellens ydeevne er, "hvor god er modellen?"</span><span class="sxs-lookup"><span data-stu-id="d8d96-139">A question that often arises in relation to model performance is, "How good is the model?"</span></span> <span data-ttu-id="d8d96-140">Svaret på dette spørgsmål er dog ikke nødvendigvis ligetil.</span><span class="sxs-lookup"><span data-stu-id="d8d96-140">However, the answer to this question isn't necessarily straightforward.</span></span> <span data-ttu-id="d8d96-141">Overvej følgende forvekslingsmatrix (model 2).</span><span class="sxs-lookup"><span data-stu-id="d8d96-141">Consider the following confusion matrix (model 2).</span></span>

![Eksempel på forudbetalinger med et større eksempel](media/payment-prediction-matrix-2.png)

<span data-ttu-id="d8d96-143">En hurtig beregning viser, at denne models nøjagtighed er (70 + 10 + 3) ÷ 100 eller 0,83.</span><span class="sxs-lookup"><span data-stu-id="d8d96-143">A quick calculation shows that this model's accuracy is (70 + 10 + 3) ÷ 100, or 0.83.</span></span> <span data-ttu-id="d8d96-144">På overfladen virker dette resultat bedre end resultatet for den tidligere multiklasse-model (model 1), som har en nøjagtighed på 0,73.</span><span class="sxs-lookup"><span data-stu-id="d8d96-144">On the surface, this result seems better than result for the previous multi-class model (model 1), which has an accuracy of 0.73.</span></span> <span data-ttu-id="d8d96-145">Men er det bedre?</span><span class="sxs-lookup"><span data-stu-id="d8d96-145">But is it better?</span></span>

<span data-ttu-id="d8d96-146">Hvis du vil begynde at løse dette problem, skal du overveje nøjagtigheden af et naivt gæt.</span><span class="sxs-lookup"><span data-stu-id="d8d96-146">To begin to address this question, consider the accuracy of a naïve guess.</span></span> <span data-ttu-id="d8d96-147">For at få et klassifikationsproblem vil et simpelt gæt altid forudsige den mest almindelige klasse.</span><span class="sxs-lookup"><span data-stu-id="d8d96-147">For a classification problem, a simple guess will always predict the most common class.</span></span> <span data-ttu-id="d8d96-148">I model 1 vil det gæt være "til tiden", og det vil give en nøjagtighed på 0,50.</span><span class="sxs-lookup"><span data-stu-id="d8d96-148">For model 1, that guess will be "on time," and it will produce an accuracy of 0.50.</span></span> <span data-ttu-id="d8d96-149">Gættet i model 2 vil også være "til tiden", og det vil give en nøjagtighed på 0,80.</span><span class="sxs-lookup"><span data-stu-id="d8d96-149">The guess for model 2 will also be "on time," and it will produce an accuracy of 0.80.</span></span> <span data-ttu-id="d8d96-150">Da model 1 forbedrer det naive gæt med 0,73 – 0,50 = 0,23, hvorimod model 2 forbedrer det naive gæt på 0,83 – 0,80 = 0,03, kan model 1 være en bedre model, selvom den har lavere nøjagtighed.</span><span class="sxs-lookup"><span data-stu-id="d8d96-150">Because model 1 improves on the naïve guess by 0.73 – 0.50 = 0.23, whereas model 2 improves on the naïve guess by 0.83 – 0.80 = 0.03, model 1 is a better model, even though it has lower accuracy.</span></span> <span data-ttu-id="d8d96-151">I beregningen fremgår det, at en effektiv vurdering af en models kvalitet kræver mere kontekst end præcisionsværdien.</span><span class="sxs-lookup"><span data-stu-id="d8d96-151">The calculation reveals that effective assessment of a model's quality requires more context than the accuracy value.</span></span>

<span data-ttu-id="d8d96-152">Et andet aspekt er også værd at bemærke.</span><span class="sxs-lookup"><span data-stu-id="d8d96-152">Another aspect is worth noting.</span></span> <span data-ttu-id="d8d96-153">Tænk på et scenarie, hvor en medicinsk test bruges til at registrere en sygdom hos en patient.</span><span class="sxs-lookup"><span data-stu-id="d8d96-153">Consider a scenario where a medical test is used to detect a disease in a patient.</span></span> <span data-ttu-id="d8d96-154">Dette problem er et binært klassifikationsproblem, hvor et positivt resultat viser, at patienten har sygdommen.</span><span class="sxs-lookup"><span data-stu-id="d8d96-154">This problem is a binary classification problem where a positive result indicates that the patient has the disease.</span></span> <span data-ttu-id="d8d96-155">I dette scenarie skal du overveje følgende fejl:</span><span class="sxs-lookup"><span data-stu-id="d8d96-155">In this scenario, you must think about the impact of the following errors:</span></span>

- <span data-ttu-id="d8d96-156">Falske positivværdier, hvor testen viser, at der er tale om, at patienten har en sygdom, men patienten har ikke alligevel sygdommen.</span><span class="sxs-lookup"><span data-stu-id="d8d96-156">False positives, where the test says that a patient has the disease, but the patient doesn't really have it.</span></span>
- <span data-ttu-id="d8d96-157">Falske negativværdier, hvor testen viser, at der er tale om, at patienten ikke har en sygdom, men patienten har alligevel sygdommen.</span><span class="sxs-lookup"><span data-stu-id="d8d96-157">False negatives, where the test says that a patient doesn't have the disease, but the patient really does have it.</span></span>

<span data-ttu-id="d8d96-158">Det kan naturligvis være, at begge fejltyper er uønskede, men hvad er det værste?</span><span class="sxs-lookup"><span data-stu-id="d8d96-158">Obviously, both types of error are undesirable, but which is worse?</span></span> <span data-ttu-id="d8d96-159">Det afhænger igen af omstændighederne.</span><span class="sxs-lookup"><span data-stu-id="d8d96-159">Again, it depends.</span></span> <span data-ttu-id="d8d96-160">Hvis der er tale om en livstruende sygdom, der kræver hurtig behandling, har det højere prioritet at minimere falske negativer (som forhåbentligt efterfølges af yderligere test).</span><span class="sxs-lookup"><span data-stu-id="d8d96-160">In the case of a life-threatening disease that requires fast treatment, minimization of false negatives (hopefully followed by additional tests) takes priority.</span></span> <span data-ttu-id="d8d96-161">I andre tilfælde, hvor der er tale om mindre kritiske situationer, kan modeloprettelser minimere falske positiver i stedet.</span><span class="sxs-lookup"><span data-stu-id="d8d96-161">In other, less critical situations, the model creators might minimize false positives instead.</span></span> <span data-ttu-id="d8d96-162">Når det sker, er det en rimelig konklusion, at du skal have flere oplysninger end en nøjagtighedsmetrikværdi, hvis du effektivt skal kunne bestemme en models kvalitet.</span><span class="sxs-lookup"><span data-stu-id="d8d96-162">At any rate, a reasonable conclusion is that to effectively determine a model's quality, you must have more information than an accuracy metric provides.</span></span>

### <a name="recommendations"></a><span data-ttu-id="d8d96-163">Anbefalinger</span><span class="sxs-lookup"><span data-stu-id="d8d96-163">Recommendations</span></span>

<span data-ttu-id="d8d96-164">Nøjagtigheden er et vigtigt værktøj til kommunikation med domæneeksperter, der ikke er fortrolige med statistikker.</span><span class="sxs-lookup"><span data-stu-id="d8d96-164">Accuracy is an important tool for communicating with domain experts who aren't familiar with statistics.</span></span> <span data-ttu-id="d8d96-165">Men hvis oplysningerne skal gøres nyttige, er det vigtigt, at yderligere kontekst angives sammen med præcisionsværdien.</span><span class="sxs-lookup"><span data-stu-id="d8d96-165">However, to make the information useful, it's critical that additional context be provided together with the accuracy value.</span></span>

<span data-ttu-id="d8d96-166">I forbindelse med betalingsprognosescenariet kan du angive et mål for den ML-model, der indeholder faktorer i forskellige betalingsmåder.</span><span class="sxs-lookup"><span data-stu-id="d8d96-166">For the payment prediction scenario, you can set a target for the ML model that includes factors in different payment behaviors.</span></span> <span data-ttu-id="d8d96-167">Målet er, at modellen skal forbedres efter et naivt gæt ved at reducere antallet af forkerte svar med mindst 50 %.</span><span class="sxs-lookup"><span data-stu-id="d8d96-167">The target is that the model should improve upon a naïve guess by reducing the number of incorrect answers by at least 50 percent.</span></span> <span data-ttu-id="d8d96-168">Med andre ord skal du bruge en nøjagtighed på målet, der adskiller sig mellem nøjagtigheden af et naivt gæt og 100 procent.</span><span class="sxs-lookup"><span data-stu-id="d8d96-168">In other words, you want a target accuracy that splits the different between the accuracy of a naïve guess and 100 percent.</span></span>

<span data-ttu-id="d8d96-169">I følgende tabel opsummeres dette princip for forvekslingsmatrixer i dette emne.</span><span class="sxs-lookup"><span data-stu-id="d8d96-169">The following table summarizes this principle for the confusion matrices in this topic.</span></span>

| <span data-ttu-id="d8d96-170">Model</span><span class="sxs-lookup"><span data-stu-id="d8d96-170">Model</span></span>   | <span data-ttu-id="d8d96-171">Naivt gæt</span><span class="sxs-lookup"><span data-stu-id="d8d96-171">Naïve guess</span></span> | <span data-ttu-id="d8d96-172">Målsætning</span><span class="sxs-lookup"><span data-stu-id="d8d96-172">Target</span></span> | <span data-ttu-id="d8d96-173">Modelnøjagtighed</span><span class="sxs-lookup"><span data-stu-id="d8d96-173">Model accuracy</span></span> | <span data-ttu-id="d8d96-174">Er målet opfyldt?</span><span class="sxs-lookup"><span data-stu-id="d8d96-174">Is the goal met?</span></span>                                          |
|---------|-------------|--------|----------------|-----------------------------------------------------------|
| <span data-ttu-id="d8d96-175">Model 1</span><span class="sxs-lookup"><span data-stu-id="d8d96-175">Model 1</span></span> | <span data-ttu-id="d8d96-176">0.50</span><span class="sxs-lookup"><span data-stu-id="d8d96-176">0.50</span></span>        | <span data-ttu-id="d8d96-177">0.75</span><span class="sxs-lookup"><span data-stu-id="d8d96-177">0.75</span></span>   | <span data-ttu-id="d8d96-178">0.73</span><span class="sxs-lookup"><span data-stu-id="d8d96-178">0.73</span></span>           | <span data-ttu-id="d8d96-179">Næsten.</span><span class="sxs-lookup"><span data-stu-id="d8d96-179">Almost.</span></span> <span data-ttu-id="d8d96-180">Denne model forbedres betydeligt ved et gæt.</span><span class="sxs-lookup"><span data-stu-id="d8d96-180">This model significantly improves upon the guess.</span></span> |
| <span data-ttu-id="d8d96-181">Model 2</span><span class="sxs-lookup"><span data-stu-id="d8d96-181">Model 2</span></span> | <span data-ttu-id="d8d96-182">0.80</span><span class="sxs-lookup"><span data-stu-id="d8d96-182">0.80</span></span>        | <span data-ttu-id="d8d96-183">0.90</span><span class="sxs-lookup"><span data-stu-id="d8d96-183">0.90</span></span>   | <span data-ttu-id="d8d96-184">0.83</span><span class="sxs-lookup"><span data-stu-id="d8d96-184">0.83</span></span>           | <span data-ttu-id="d8d96-185">Nr.</span><span class="sxs-lookup"><span data-stu-id="d8d96-185">No.</span></span> <span data-ttu-id="d8d96-186">Der kræves en forbedring.</span><span class="sxs-lookup"><span data-stu-id="d8d96-186">Improvement is required.</span></span>                              |

## <a name="classification-f1-accuracy"></a><span data-ttu-id="d8d96-187">Nøjagtighed i F1-klassifikation</span><span class="sxs-lookup"><span data-stu-id="d8d96-187">Classification F1 accuracy</span></span>

<span data-ttu-id="d8d96-188">Den endelige overvejelse i dette emne er en mere avanceret måleenhed med en overskredet ydeevne, der kaldes f. eks. F1.</span><span class="sxs-lookup"><span data-stu-id="d8d96-188">The final consideration in this topic is a more advanced measure of classification ML performance that is known as F1 accuracy.</span></span>

<span data-ttu-id="d8d96-189">Før der kan defineres en nøjagtighed på F1, skal der angives to yderligere målepunkter: Præcision og tilbagekaldelse.</span><span class="sxs-lookup"><span data-stu-id="d8d96-189">Before F1 accuracy can be defined, two additional metrics must be introduced: precision and recall.</span></span> <span data-ttu-id="d8d96-190">Præcision angiver, hvor mange af det samlede antal forudsigelser, der er angivet som positive, der er korrekt tildelt.</span><span class="sxs-lookup"><span data-stu-id="d8d96-190">Precision indicates how many of the total number of predictions that are specified as positive are correctly assigned.</span></span> <span data-ttu-id="d8d96-191">Denne metrikværdi kaldes også for den positive forudsigelige værdi.</span><span class="sxs-lookup"><span data-stu-id="d8d96-191">This metric is also known as the positive predictive value.</span></span> <span data-ttu-id="d8d96-192">Tilbagekaldelse er det samlede antal af faktiske positive sager, der blev forudsagt korrekt.</span><span class="sxs-lookup"><span data-stu-id="d8d96-192">Recall is the total number of the actual positive cases that were predicted correctly.</span></span> <span data-ttu-id="d8d96-193">Denne metrikværdi kaldes også følsomhed.</span><span class="sxs-lookup"><span data-stu-id="d8d96-193">This metric is also known as sensitivity.</span></span>

<span data-ttu-id="d8d96-194">[![Faktiske resultater vs. falske resultater](./media/tn-fn.png)](./media/tn-fn.png)</span><span class="sxs-lookup"><span data-stu-id="d8d96-194">[![True results vs. false results](./media/tn-fn.png)](./media/tn-fn.png)</span></span>

<span data-ttu-id="d8d96-195">I forvekslingsmatricen i ovenstående illustration beregnes disse målepunkter på følgende måde:</span><span class="sxs-lookup"><span data-stu-id="d8d96-195">In the confusion matrix in the preceding illustration, these metrics are calculated in the following way:</span></span>

- <span data-ttu-id="d8d96-196">Præcision = TP ÷ (TP + FP)</span><span class="sxs-lookup"><span data-stu-id="d8d96-196">Precision = TP ÷ (TP + FP)</span></span>
- <span data-ttu-id="d8d96-197">Tilbagekald = TP ÷ (TP + FN)</span><span class="sxs-lookup"><span data-stu-id="d8d96-197">Recall = TP ÷ (TP + FN)</span></span>

<span data-ttu-id="d8d96-198">Med F1-målpunktet kombineres præcision og tilbagekaldelse.</span><span class="sxs-lookup"><span data-stu-id="d8d96-198">The F1 measure combines precision and recall.</span></span> <span data-ttu-id="d8d96-199">Resultatet er den harmoniske middelværdi af de to værdier.</span><span class="sxs-lookup"><span data-stu-id="d8d96-199">The result is the harmonic mean of the two values.</span></span> <span data-ttu-id="d8d96-200">Den beregnes på følgende måde:</span><span class="sxs-lookup"><span data-stu-id="d8d96-200">It's calculated in the following way:</span></span>

- <span data-ttu-id="d8d96-201">F1 = 2 × (præcision × tilbagekaldelse) ÷ (præcision + tilbagekaldelse)</span><span class="sxs-lookup"><span data-stu-id="d8d96-201">F1 = 2 × (Precision × Recall) ÷ (Precision + Recall)</span></span>

<span data-ttu-id="d8d96-202">Lad os se på et konkret eksempel.</span><span class="sxs-lookup"><span data-stu-id="d8d96-202">Let's look at a concrete example.</span></span> <span data-ttu-id="d8d96-203">Tidligere i dette emne var der et eksempel på en model, der forudsagde, om et dyr var en hund eller en kat.</span><span class="sxs-lookup"><span data-stu-id="d8d96-203">Earlier in this topic, there was an example of a model that predicted whether an animal was a dog or a cat.</span></span> <span data-ttu-id="d8d96-204">Illustrationen gentages her.</span><span class="sxs-lookup"><span data-stu-id="d8d96-204">The illustration is repeated here.</span></span>

<span data-ttu-id="d8d96-205">[![Eksempel på forudsigelse af art (gentaget)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="d8d96-205">[![Species prediction example (repeated)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="d8d96-206">Her er resultatet, hvis "hund" bruges som det positive svar.</span><span class="sxs-lookup"><span data-stu-id="d8d96-206">Here are the results if "Dog" is used as the positive answer.</span></span>

- <span data-ttu-id="d8d96-207">Præcision = 24 ÷ (24 + 2) = 0,9231</span><span class="sxs-lookup"><span data-stu-id="d8d96-207">Precision = 24 ÷ (24 + 2) = 0.9231</span></span>
- <span data-ttu-id="d8d96-208">Tilbagekald = 24 ÷ (24 + 6) = 0,8</span><span class="sxs-lookup"><span data-stu-id="d8d96-208">Recall = 24 ÷ (24 + 6) = 0.8</span></span>
- <span data-ttu-id="d8d96-209">F1 = 2 × (0,9231 × 0,8) ÷ (0,9231 + 0,8) = 0,8572</span><span class="sxs-lookup"><span data-stu-id="d8d96-209">F1 = 2 × (0.9231 × 0.8) ÷ (0.9231 + 0.8) = 0.8572</span></span>

<span data-ttu-id="d8d96-210">Som du kan se, er F1-værdien mellem værdierne for præcision og tilbagekaldelse.</span><span class="sxs-lookup"><span data-stu-id="d8d96-210">As you can see, the F1 value is between the values for precision and recall.</span></span>

<span data-ttu-id="d8d96-211">Selvom det ikke er så nemt at forstå F1, tilføjer det en nuance til det grundlæggende nøjagtighedsnummer.</span><span class="sxs-lookup"><span data-stu-id="d8d96-211">Although F1 accuracy isn't as easy to understand, it adds nuance to the basic accuracy number.</span></span> <span data-ttu-id="d8d96-212">Det kan også hjælpe med oplysninger, der ikke stemmer, som følgende diskussion viser.</span><span class="sxs-lookup"><span data-stu-id="d8d96-212">It can also help with unbalanced datasets, as the following discussion will show.</span></span>

<span data-ttu-id="d8d96-213">Afsnittet [Modelpræcision](#model-accuracy) i dette emne sammenlignede følgende to forvekslingsmatrixer.</span><span class="sxs-lookup"><span data-stu-id="d8d96-213">The [Model accuracy](#model-accuracy) section of this topic compared the following two confusion matrices.</span></span> <span data-ttu-id="d8d96-214">Selvom den første model havde lavere nøjagtighed, blev den vurderet til at være en mere nyttig model, da den viste en større forbedring end standardgættet for betaling til tiden.</span><span class="sxs-lookup"><span data-stu-id="d8d96-214">Even though the first model had lower accuracy, it was deemed a more useful model because it showed more improvement than the default guess of an on-time payment.</span></span>

![Eksempel på forudsigelse af forudbetaling vs. faktiske tal](media/payment-prediction-matrix.png)

![Eksempel på forudbetalinger med et større eksempel (gentaget)](media/payment-prediction-matrix-2.png)

<span data-ttu-id="d8d96-217">Lad os se, hvordan disse to modeller sammenlignes, når F1-scoren bruges.</span><span class="sxs-lookup"><span data-stu-id="d8d96-217">Let's see how these two models compare when the F1 score is used.</span></span> <span data-ttu-id="d8d96-218">F1-scorefaktorerne i præcision og tilbagekaldelse for hver tilstand, og F1-makroberegningen beregner derefter F1-scoren på tværs af tilstandene for at fastlægge et samlet antal F1-resultater.</span><span class="sxs-lookup"><span data-stu-id="d8d96-218">The F1 score factors in precision and recall for each state, and the F1 macro calculation then averages the F1 score across the states to determine an overall F1 score.</span></span> <span data-ttu-id="d8d96-219">Der er andre F1-varianter, men det er af stor interesse at overveje makroversionen med den tilsvarende overvejelse, der er tildelt alle tre tilstande.</span><span class="sxs-lookup"><span data-stu-id="d8d96-219">There are other F1 variants, but it's of greater interest to consider the macro version, given the equal consideration that is given to all three states.</span></span>

<span data-ttu-id="d8d96-220">For at forenkle beregningerne blev eksempelmatricer bygget til at matche de faktiske og forudberegnede værdier.</span><span class="sxs-lookup"><span data-stu-id="d8d96-220">To simplify the calculations, sample arrays were built to match the actual and predicted values.</span></span> <span data-ttu-id="d8d96-221">Disse matricer brugte sklearn i Python til at beregne værdierne.</span><span class="sxs-lookup"><span data-stu-id="d8d96-221">These arrays used sklearn's metrics library in Python to calculate the values.</span></span> <span data-ttu-id="d8d96-222">Her er resultatet.</span><span class="sxs-lookup"><span data-stu-id="d8d96-222">Here is the result.</span></span>

| <span data-ttu-id="d8d96-223">Model</span><span class="sxs-lookup"><span data-stu-id="d8d96-223">Model</span></span>   | <span data-ttu-id="d8d96-224">Naivt gæt</span><span class="sxs-lookup"><span data-stu-id="d8d96-224">Naive guess</span></span> | <span data-ttu-id="d8d96-225">Nøjagtighed</span><span class="sxs-lookup"><span data-stu-id="d8d96-225">Accuracy</span></span> | <span data-ttu-id="d8d96-226">F1 makro</span><span class="sxs-lookup"><span data-stu-id="d8d96-226">F1 macro</span></span> |
|---------|-------------|----------|----------|
| <span data-ttu-id="d8d96-227">Model 1</span><span class="sxs-lookup"><span data-stu-id="d8d96-227">Model 1</span></span> | <span data-ttu-id="d8d96-228">0.5</span><span class="sxs-lookup"><span data-stu-id="d8d96-228">0.5</span></span>         | <span data-ttu-id="d8d96-229">0.73</span><span class="sxs-lookup"><span data-stu-id="d8d96-229">0.73</span></span>     | <span data-ttu-id="d8d96-230">0.67</span><span class="sxs-lookup"><span data-stu-id="d8d96-230">0.67</span></span>     |
| <span data-ttu-id="d8d96-231">Model 2</span><span class="sxs-lookup"><span data-stu-id="d8d96-231">Model 2</span></span> | <span data-ttu-id="d8d96-232">0.80</span><span class="sxs-lookup"><span data-stu-id="d8d96-232">0.80</span></span>        | <span data-ttu-id="d8d96-233">0.83</span><span class="sxs-lookup"><span data-stu-id="d8d96-233">0.83</span></span>     | <span data-ttu-id="d8d96-234">0.66</span><span class="sxs-lookup"><span data-stu-id="d8d96-234">0.66</span></span>     |

<span data-ttu-id="d8d96-235">Yderligere oplysninger om, hvordan denne beregning fungerer illustreres her i en sklearn.metrics-klassifikationsrapport for model 1.</span><span class="sxs-lookup"><span data-stu-id="d8d96-235">For more detail about how this calculation works, here is the sklearn.metrics classification report for model 1.</span></span> <span data-ttu-id="d8d96-236">De tre tilstande, "Til tiden", "Sent" og "Meget sent" repræsenteres af de rækker, der kaldes henholdsvis 1, 2 og 3.</span><span class="sxs-lookup"><span data-stu-id="d8d96-236">The three states, "On time," "Late," and "Very late," are represented by the rows that are labeled 1, 2, and 3, respectively.</span></span> <span data-ttu-id="d8d96-237">Makrogennemsnittet er blot gennemsnittet af kolonnen "F1-score".</span><span class="sxs-lookup"><span data-stu-id="d8d96-237">The macro average is just the average of the "f1-score" column.</span></span>

|           | <span data-ttu-id="d8d96-238">præcision</span><span class="sxs-lookup"><span data-stu-id="d8d96-238">precision</span></span> | <span data-ttu-id="d8d96-239">tilbagekald</span><span class="sxs-lookup"><span data-stu-id="d8d96-239">recall</span></span>   | <span data-ttu-id="d8d96-240">f1-score</span><span class="sxs-lookup"><span data-stu-id="d8d96-240">f1-score</span></span> |
|-----------|-----------|----------|----------|
| <span data-ttu-id="d8d96-241">**1**</span><span class="sxs-lookup"><span data-stu-id="d8d96-241">**1**</span></span>     | <span data-ttu-id="d8d96-242">0.83</span><span class="sxs-lookup"><span data-stu-id="d8d96-242">0.83</span></span>      | <span data-ttu-id="d8d96-243">0.80</span><span class="sxs-lookup"><span data-stu-id="d8d96-243">0.80</span></span>     | <span data-ttu-id="d8d96-244">0.82</span><span class="sxs-lookup"><span data-stu-id="d8d96-244">0.82</span></span>     |
| <span data-ttu-id="d8d96-245">**2**</span><span class="sxs-lookup"><span data-stu-id="d8d96-245">**2**</span></span>     | <span data-ttu-id="d8d96-246">0.68</span><span class="sxs-lookup"><span data-stu-id="d8d96-246">0.68</span></span>      | <span data-ttu-id="d8d96-247">0.71</span><span class="sxs-lookup"><span data-stu-id="d8d96-247">0.71</span></span>     | <span data-ttu-id="d8d96-248">0.69</span><span class="sxs-lookup"><span data-stu-id="d8d96-248">0.69</span></span>     |
| <span data-ttu-id="d8d96-249">**3**</span><span class="sxs-lookup"><span data-stu-id="d8d96-249">**3**</span></span>     | <span data-ttu-id="d8d96-250">0.50</span><span class="sxs-lookup"><span data-stu-id="d8d96-250">0.50</span></span>      | <span data-ttu-id="d8d96-251">0.50</span><span class="sxs-lookup"><span data-stu-id="d8d96-251">0.50</span></span>     | <span data-ttu-id="d8d96-252">0.50</span><span class="sxs-lookup"><span data-stu-id="d8d96-252">0.50</span></span>     |

<span data-ttu-id="d8d96-253">Som disse resultater viser, har de to modeller næsten identiske præcisionsresultater for makroen F1.</span><span class="sxs-lookup"><span data-stu-id="d8d96-253">As these results show, the two models have nearly identical F1 macro accuracy scores.</span></span> <span data-ttu-id="d8d96-254">I dette og mange andre tilfælde viser F1 præcision en bedre indikator for en models kapacitet.</span><span class="sxs-lookup"><span data-stu-id="d8d96-254">In this and many other cases, F1 accuracy provides a better indicator of a model's capability.</span></span> <span data-ttu-id="d8d96-255">Af hensyn til nøjagtigheden kræver fortolkningen af resultaterne, at du forstår, hvad der er vigtigst at overveje i modellen.</span><span class="sxs-lookup"><span data-stu-id="d8d96-255">As for accuracy, interpretation of the results requires that you understand what is most important to consider in the model.</span></span>

#### <a name="privacy-notice"></a><span data-ttu-id="d8d96-256">Erklæring om beskyttelse af personlige oplysninger</span><span class="sxs-lookup"><span data-stu-id="d8d96-256">Privacy notice</span></span>
<span data-ttu-id="d8d96-257">Forhåndsvisning (1) kan anvende mindre beskyttelse af personlige oplysninger og sikkerhedsforanstaltninger end Dynamics 365 Finance and Operations-tjeneste, (2) de er ikke inkluderet i serviceniveauaftalen (SLA) for denne tjeneste, (3) de må ikke bruges til at behandle personaleoplysninger eller andre data, der er underlagt lovgivning eller overholdelse af lovmæssige krav, og (4) de har begrænset support.</span><span class="sxs-lookup"><span data-stu-id="d8d96-257">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]