---
title: Opgraderingsoversigt for afskrivningsmodel
description: I tidligere versioner var der to værdiansættelseskoncepter for anlægsaktiver – værdimodeller og afskrivningsmodeller.
author: ShylaThompson
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User, Developer
ms.reviewer: roschlom
ms.custom: 221624
ms.assetid: cf434099-36f9-4b0f-a7c8-bed091e34f39
ms.search.region: global
ms.author: saraschi
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.openlocfilehash: d42936a94e0f4d50ae227d760d5bee6e1e3a12e6
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: da-DK
ms.lasthandoff: 04/01/2021
ms.locfileid: "5826972"
---
# <a name="depreciation-book-upgrade-overview"></a><span data-ttu-id="8fffc-103">Oversigt over opgradering af afskrivningsmodel</span><span class="sxs-lookup"><span data-stu-id="8fffc-103">Depreciation book upgrade overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="8fffc-104">I tidligere versioner var der to værdiansættelseskoncepter for anlægsaktiver – værdimodeller og afskrivningsmodeller.</span><span class="sxs-lookup"><span data-stu-id="8fffc-104">In previous releases, there were two valuation concepts for fixed assets -  value models and depreciation books.</span></span> <span data-ttu-id="8fffc-105">I Microsoft Dynamics 365 for Operations (1611) er funktionaliteten af værdimodellen og afskrivningsmodellen blevet flettet ind i et enkelt bogkoncept.</span><span class="sxs-lookup"><span data-stu-id="8fffc-105">In Microsoft Dynamics 365 for Operations (1611), the value model functionality and depreciation book functionality have been merged into a single concept that is known as a book.</span></span> <span data-ttu-id="8fffc-106">Dette emne indeholder nogle overvejelser for opgraderingen.</span><span class="sxs-lookup"><span data-stu-id="8fffc-106">This topic provides some things to consider for the upgrade.</span></span> 

<span data-ttu-id="8fffc-107">Opgraderingsprocessen flytter din eksisterende installation og alle eksisterende transaktioner til den nye modelstruktur.</span><span class="sxs-lookup"><span data-stu-id="8fffc-107">The upgrade process will move your existing setup and all existing transactions to the new book structure.</span></span> <span data-ttu-id="8fffc-108">Værdimodeller forbliver, som de er i øjeblikket, som en model, der bogføres i finans.</span><span class="sxs-lookup"><span data-stu-id="8fffc-108">Value models will remain as they currently are, as a book that posts to the general ledger.</span></span> <span data-ttu-id="8fffc-109">Afskrivningsmodeller flyttes til en model, der har **Bogfør i finans**-indstillingen angivet til **Ingen**.</span><span class="sxs-lookup"><span data-stu-id="8fffc-109">Depreciation books will be moved to a book that has the **Post to general ledger** option set to **No**.</span></span> <span data-ttu-id="8fffc-110">Navne på afskrivningskladder flyttes til et finanskladdenavn med posteringslag angivet til **Ingen**.</span><span class="sxs-lookup"><span data-stu-id="8fffc-110">Depreciation book journal names will be moved to a general ledger journal name with the posting layer set to **None**.</span></span> <span data-ttu-id="8fffc-111">Posteringer i afskrivningsmodellen skal flyttes til anlægsaktivposter.</span><span class="sxs-lookup"><span data-stu-id="8fffc-111">Depreciation book transactions will be moved to Fixed asset transactions.</span></span> 

<span data-ttu-id="8fffc-112">Før du kører dataopgraderingen, bør du forstå de to indstillinger, der er tilgængelige for opgradering af afskrivningens kladdelinjer til transaktionsbilag og den nummerserie, der skal bruges for bilagsserien.</span><span class="sxs-lookup"><span data-stu-id="8fffc-112">Before running the data upgrade, you should understand the two options available for upgrading depreciation book journal lines to transaction vouchers, and the number sequence that will be used for the voucher series.</span></span> 

<span data-ttu-id="8fffc-113">Mulighed 1: **Systemdefineret nummerserie** - Dette er standardindstillingen for at optimere opgraderingens ydeevne.</span><span class="sxs-lookup"><span data-stu-id="8fffc-113">Option 1:  **System-defined number sequence** - This is the default option to optimize upgrade performance.</span></span> <span data-ttu-id="8fffc-114">Opgraderingen bruger ikke nummerseriens struktur, men tildeler i stedet bilag med en sætbaseret tilgang.</span><span class="sxs-lookup"><span data-stu-id="8fffc-114">The upgrade will not use the number sequences framework, but instead will allocate vouchers with a set-based approach.</span></span> <span data-ttu-id="8fffc-115">Efter opgraderingen oprettes den nye nummerserie med **næste nummerserie** korrekt baseret på de opgraderede transaktioner.</span><span class="sxs-lookup"><span data-stu-id="8fffc-115">After the upgrade, the new number sequence will be created with the **Next number set** appropriately based on the upgraded transactions.</span></span> <span data-ttu-id="8fffc-116">Som standard bliver nummerserien brugt i FADBUpgr\#\#\#\#\#\#\#\#\# format.</span><span class="sxs-lookup"><span data-stu-id="8fffc-116">By default, the number sequence used will be in the FADBUpgr\#\#\#\#\#\#\#\#\# format.</span></span> <span data-ttu-id="8fffc-117">Der er nogle parametre til at justere diagrammets format, når du bruger denne fremgangsmåde:</span><span class="sxs-lookup"><span data-stu-id="8fffc-117">There are a few parameters available to you to adjust the format when using this approach:</span></span>

-   <span data-ttu-id="8fffc-118">**Nummerseriekode** – Koden til identificering af nummerserien.</span><span class="sxs-lookup"><span data-stu-id="8fffc-118">**Number sequence code** – The code to identify the number sequence.</span></span> <span data-ttu-id="8fffc-119">Denne nummerseriekode kan ikke eksistere, da den vil blive oprettet af opgraderingen.</span><span class="sxs-lookup"><span data-stu-id="8fffc-119">This number sequence code cannot exist since it will be created by the upgrade.</span></span>
    -   <span data-ttu-id="8fffc-120">Konstante navn: **NumberSequenceDefaultCode**</span><span class="sxs-lookup"><span data-stu-id="8fffc-120">Constant name: **NumberSequenceDefaultCode**</span></span>
    -   <span data-ttu-id="8fffc-121">Standardværdi: "FADBUpgr"</span><span class="sxs-lookup"><span data-stu-id="8fffc-121">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="8fffc-122">**Præfiks** – Den konstante strengværdi, der skal bruges som præfiks for bilagsnumrene.</span><span class="sxs-lookup"><span data-stu-id="8fffc-122">**Prefix** – The constant string value that will be used as a prefix for the voucher numbers.</span></span>
    -   <span data-ttu-id="8fffc-123">Konstante navn: **NumberSequenceDefaultParameterPrefix**</span><span class="sxs-lookup"><span data-stu-id="8fffc-123">Constant name: **NumberSequenceDefaultParameterPrefix**</span></span>
    -   <span data-ttu-id="8fffc-124">Standardværdi: "FADBUpgr"</span><span class="sxs-lookup"><span data-stu-id="8fffc-124">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="8fffc-125">**Alfanumerisk længde** – Længden af alfanumerisk segment af nummerserien.</span><span class="sxs-lookup"><span data-stu-id="8fffc-125">**Alphanumeric length** – The length of the alphanumeric segment of the number sequence.</span></span>
    -   <span data-ttu-id="8fffc-126">Konstante navn: **NumberSequenceDefaultParameterAlpanumericLength**</span><span class="sxs-lookup"><span data-stu-id="8fffc-126">Constant name: \*\*NumberSequenceDefaultParameterAlpanumericLength \*\*</span></span>
    -   <span data-ttu-id="8fffc-127">Standardværdi: 9</span><span class="sxs-lookup"><span data-stu-id="8fffc-127">Default value: 9</span></span>
-   <span data-ttu-id="8fffc-128">**Startnummer** - Det første nummer i nummerserien.</span><span class="sxs-lookup"><span data-stu-id="8fffc-128">**Start number** - The first number to be used in the number sequence.</span></span>
    -   <span data-ttu-id="8fffc-129">Konstante navn: **NumberSequenceDefaultParameterStartNumber**</span><span class="sxs-lookup"><span data-stu-id="8fffc-129">Constant name: \*\*NumberSequenceDefaultParameterStartNumber  \*\*</span></span>
    -   <span data-ttu-id="8fffc-130">Standardværdi: 1</span><span class="sxs-lookup"><span data-stu-id="8fffc-130">Default value: 1</span></span>

<span data-ttu-id="8fffc-131">Mulighed 2: **Eksisterende brugerdefineret nummerserie** - Denne indstilling giver dig mulighed at definere den nummerserie, der skal bruges til opgraderingen.</span><span class="sxs-lookup"><span data-stu-id="8fffc-131">Option 2: **Existing user-defined number sequence** - This option will allow you to define the number sequence to be used for the upgrade.</span></span> <span data-ttu-id="8fffc-132">Overvej at bruge denne indstilling, hvis du har brug for konfiguration af avanceret nummerserie.</span><span class="sxs-lookup"><span data-stu-id="8fffc-132">Consider using this option if you need advanced number sequence configuration.</span></span> <span data-ttu-id="8fffc-133">Hvis du vil bruge en nummerserie, skal du ændre opgradering klassen ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans med følgende oplysninger:</span><span class="sxs-lookup"><span data-stu-id="8fffc-133">To use a number sequence, you must modify the upgrade class ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans with the following information:</span></span>

-   <span data-ttu-id="8fffc-134">**Nummerseriekode** – Koden for nummerserien.</span><span class="sxs-lookup"><span data-stu-id="8fffc-134">**Number sequence code** – The code of the number sequence.</span></span>
    -   <span data-ttu-id="8fffc-135">Konstante navn: \*\*NumberSequenceExistingCode \*\*</span><span class="sxs-lookup"><span data-stu-id="8fffc-135">Constant name: \*\*NumberSequenceExistingCode \*\*</span></span>
    -   <span data-ttu-id="8fffc-136">Standardværdi: ingen standard. Den skal være opdateret til nummerseriekoden.</span><span class="sxs-lookup"><span data-stu-id="8fffc-136">Default value: No default, this must be updated to the number sequence code.</span></span>
-   <span data-ttu-id="8fffc-137">**Delt nummerserie** – En boolesk værdi til at identificere omfanget af nummerserien.</span><span class="sxs-lookup"><span data-stu-id="8fffc-137">**Shared number sequence** – A boolean value to identify the scope of the number sequence.</span></span> <span data-ttu-id="8fffc-138">Brug "true" for delte nummerserier på tværs af alle virksomheder og "false" for en virksomhedens omfang.</span><span class="sxs-lookup"><span data-stu-id="8fffc-138">Use "true" for shared number sequences across all companies, and "false" for a company-specific scope.</span></span> <span data-ttu-id="8fffc-139">Når du bruger "false", skal nummerserien med det angivne navn findes i alle virksomheder, som indeholder afskrivningstransaktioner.</span><span class="sxs-lookup"><span data-stu-id="8fffc-139">When using "false", the number sequence with the specified name must exist in every company that contains depreciation book transactions.</span></span> <span data-ttu-id="8fffc-140">Der findes delte nummerserier i hver partition, som indeholder afskrivningstransaktioner.</span><span class="sxs-lookup"><span data-stu-id="8fffc-140">Shared number sequences exist in every partition that contains depreciation book transactions.</span></span>
    -   <span data-ttu-id="8fffc-141">Konstante navn: \*\*NumberSequenceExistingIsShared \*\*</span><span class="sxs-lookup"><span data-stu-id="8fffc-141">Constant name: \*\*NumberSequenceExistingIsShared \*\*</span></span>
    -   <span data-ttu-id="8fffc-142">Standardværdi: true</span><span class="sxs-lookup"><span data-stu-id="8fffc-142">Default value: true</span></span>

<span data-ttu-id="8fffc-143">Parametrene er placeret i begyndelsen af klassen ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans.</span><span class="sxs-lookup"><span data-stu-id="8fffc-143">The parameters are located at the beginning of the ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans class.</span></span> 

<span data-ttu-id="8fffc-144">*// Angiv en foretrukken tilgang af bilagsfordeling* 
 *// true, hvis du vil bruge en eksisterende nummerseriekode* 
 *// false, hvis du vil bruge den systemdefinerede nummerserie (standard)* const boolean NumberSequenceUseExistingCode = false;</span><span class="sxs-lookup"><span data-stu-id="8fffc-144">*// Specify a preferable approach of vouchers allocation* 
 *// true, if you want to use an existing number sequence code* 
 *// false, if you intend to use the system-defined number sequence (default)* const boolean NumberSequenceUseExistingCode = false;</span></span>  

<span data-ttu-id="8fffc-145">*// Hvis du bruger den systemdefinerede nummerserie, kan du angive parametre for nummerserien.*
 *// Der oprettes en ny nummerserie med disse parametre.*</span><span class="sxs-lookup"><span data-stu-id="8fffc-145">*// If using the system-defined number sequence approach, specify the parameters for the number sequence.*
 *// A new number sequence will be created with these parameters.*</span></span> <span data-ttu-id="8fffc-146">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span><span class="sxs-lookup"><span data-stu-id="8fffc-146">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span></span>   

<span data-ttu-id="8fffc-147">*// Hvis du bruger eksisterende nummerserie, kan du angive den eksisterende nummerseriekode.* 
 *// Bilagsfordeling er række for række for eksisterende nummerserier.*</span><span class="sxs-lookup"><span data-stu-id="8fffc-147">*// If using the existing number sequence approach, specify the existing number sequence code.* 
 *// Voucher allocation will go row-by-row for existing number sequences.*</span></span> <span data-ttu-id="8fffc-148">const str NumberSequenceExistingCode = ''; *// Angiv omfanget af den eksisterende nummerseriekode* 
 *// true, hvis den angivne nummerserie deles* 
 *// false, hvis den angivne nummerserie er pr. virksomhed* 
 *// Den systemdefinerede standardnummerserie, der skal bruges, hvis der ikke findes en nummerseriekode med det angivne omfang.*</span><span class="sxs-lookup"><span data-stu-id="8fffc-148">const str NumberSequenceExistingCode = ''; *// Specify the scope of the existing number sequence code* 
 *// true, if the specified number sequence is shared* 
 *// false, if the specified number sequence is per-company* 
 *// The default system-defined number sequence will be used if a number sequence code with the specified scope is not found.*</span></span> <span data-ttu-id="8fffc-149">const boolean NumberSequenceExistingIsShared = true;</span><span class="sxs-lookup"><span data-stu-id="8fffc-149">const boolean NumberSequenceExistingIsShared = true;</span></span> 

<span data-ttu-id="8fffc-150">Genopbyg det projekt, der indeholder klassen, når konstanterne er blevet ændret.</span><span class="sxs-lookup"><span data-stu-id="8fffc-150">Rebuild the project that contains the class after the constants have been modified.</span></span> 

<span data-ttu-id="8fffc-151">Når du bruger den systemgenereret nummerserie (mulighed 1), bruger opgraderingen sætbaseret behandling til at tildele bilagsnumre som angivet i parametrene for opgraderingsscriptet.</span><span class="sxs-lookup"><span data-stu-id="8fffc-151">When using the system-generated number sequence approach (option 1), the upgrade will use set-based processing to allocate the voucher numbers as specified in the upgrade script parameters.</span></span> <span data-ttu-id="8fffc-152">Der oprettes desuden en ny nummerserie med de angivne parametre efter tildelingen.</span><span class="sxs-lookup"><span data-stu-id="8fffc-152">It will also create a new number sequence with specified parameters after the allocation.</span></span> 

<span data-ttu-id="8fffc-153">Når du bruger den brugerdefinerede eksisterende nummerserie (mulighed 2), kontrollerer dataopgraderingen, om nummerserien med det angivne omfang findes i databasen for hver partition og virksomhed med afskrivningstransaktioner.</span><span class="sxs-lookup"><span data-stu-id="8fffc-153">When using the user-defined existing number sequence approach (option 2), the data upgrade checks whether the number sequence with the specified scope exists in the database for each partition and company with depreciation book transactions.</span></span> <span data-ttu-id="8fffc-154">Hvis den findes, bruger opgraderingen række for række-behandling ved tildeling af bilagsnumre som angivet af den nummerserie, der bruger strukturen for nummerserier.</span><span class="sxs-lookup"><span data-stu-id="8fffc-154">If it does exist, the upgrade will use row-by-row processing to allocate the voucher numbers as specified by the number sequence using the number sequence framework.</span></span> <span data-ttu-id="8fffc-155">Hvis nummerserien ikke findes med det angivne omfang, bruger opgraderingen den systemdefinerede standardnummerserie til at fordele bilagsnumrene og opretter en ny nummerserie med angivne standardparametre efter fordelingen.</span><span class="sxs-lookup"><span data-stu-id="8fffc-155">If the number sequence does not exist with the specified scope, the upgrade will use the default system-defined number sequence approach to allocate the voucher numbers, and will create a new number sequence with specified default parameters after the allocation.</span></span>

<span data-ttu-id="8fffc-156">Scriptet til dataopgradering bruger også nummerserien for begge metoder til feltet **Bilagsserie** på de nye finanskladdenavne, der er oprettet til de tidligere navne på afskrivningskladder.</span><span class="sxs-lookup"><span data-stu-id="8fffc-156">With either approach, the data upgrade script will also use the number sequence for the **Voucher series** field on the new general ledger journal names created for the former depreciation book journal names.</span></span>





[!INCLUDE[footer-include](../../includes/footer-banner.md)]