---
title: Kundestyring i butikker
description: Dette emne forklarer, hvordan detailforretninger kan aktivere kundestyringsegenskaber på POS i Microsoft Dynamics 365 Commerce.
author: josaw1
ms.date: 05/25/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: RetailOperations
audience: Application User, IT Pro
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2021-01-31
ms.dyn365.ops.version: 10.0.14
ms.openlocfilehash: dd17593d84a8bf262712a84b11829f8ec6c49049
ms.sourcegitcommit: c5c8f19a696ad4a3d68dffd63bfe7b484b999d2b
ms.translationtype: HT
ms.contentlocale: da-DK
ms.lasthandoff: 05/25/2021
ms.locfileid: "6097202"
---
# <a name="customer-management-in-stores"></a><span data-ttu-id="2bbec-103">Kundestyring i butikker</span><span class="sxs-lookup"><span data-stu-id="2bbec-103">Customer management in stores</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="2bbec-104">Dette emne forklarer, hvordan detailforretninger kan aktivere kundestyringsegenskaber på POS i Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="2bbec-104">This topic explains how retailers can enable customer management capabilities at the point of sale (POS) in Microsoft Dynamics 365 Commerce.</span></span>

<span data-ttu-id="2bbec-105">Det er vigtigt, at butiksmedarbejdere kan oprette og redigere kundeposter i POS.</span><span class="sxs-lookup"><span data-stu-id="2bbec-105">It's important that store associates can create and edit customer records at the POS.</span></span> <span data-ttu-id="2bbec-106">På den måde kan de hente alle opdateringer til kundeoplysninger, f.eks. e-mail-adresse, telefonnummer og adresse.</span><span class="sxs-lookup"><span data-stu-id="2bbec-106">In that way, they can capture any updates to customer information such as the email address, phone number, and address.</span></span> <span data-ttu-id="2bbec-107">Disse oplysninger er nyttige i downstream-systemer, f.eks. marketing, da effektiviteten af disse systemer afhænger af nøjagtigheden af deres kundedata.</span><span class="sxs-lookup"><span data-stu-id="2bbec-107">This information is helpful in downstream systems such as marketing, because the effectiveness of those systems depends on the accuracy of their customer data.</span></span>

<span data-ttu-id="2bbec-108">Salgsmedarbejdere kan udløse arbejdsgangen til kundeoprettelse fra to kasseindtastningspunkter.</span><span class="sxs-lookup"><span data-stu-id="2bbec-108">Sales associates can trigger the customer creation workflow from two POS entry points.</span></span> <span data-ttu-id="2bbec-109">De kan vælge en knap, der er knyttet til handlingen med **Tilføjelse af kunde**, eller de kan vælge **Opret kunde** på applinjen på søgeresultatsiden.</span><span class="sxs-lookup"><span data-stu-id="2bbec-109">They can select a button that is mapped to the **Customer add** operation, or they can select **Create customer** on the app bar on the search results page.</span></span> <span data-ttu-id="2bbec-110">I begge tilfælde vises dialogboksen **Ny kunde**, hvor salgsmedarbejdere kan angive de nødvendige kundeoplysninger, som f.eks. kundens navn, e-mail-adresse, telefonnummer, adresse og eventuelle yderligere oplysninger, der er relevante for virksomheden.</span><span class="sxs-lookup"><span data-stu-id="2bbec-110">In both cases, the **New customer** dialog box appears, where sales associates can enter required customer details, such as the customer's name, email address, phone number, address, and any additional information that is relevant to the business.</span></span> <span data-ttu-id="2bbec-111">Disse yderligere oplysninger kan registreres ved hjælp af de debitorattributter, der er tilknyttet debitoren.</span><span class="sxs-lookup"><span data-stu-id="2bbec-111">That additional information can be captured by using the customer attributes that are associated with the customer.</span></span> <span data-ttu-id="2bbec-112">Du kan finde flere oplysninger om debitorattributter i [Debitorattributter](dev-itpro/customer-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="2bbec-112">For more information about customer attributes, see [Customer attributes](dev-itpro/customer-attributes.md).</span></span>

<span data-ttu-id="2bbec-113">Salgsmedarbejdere kan også hente sekundære e-mailadresser og telefonnumre.</span><span class="sxs-lookup"><span data-stu-id="2bbec-113">Sales associates can also capture secondary email addresses and phone numbers.</span></span> <span data-ttu-id="2bbec-114">Derudover kan de hente kundens præference for modtagelse af marketingoplysninger via enhver af disse sekundære e-mailadresser eller telefonnumre.</span><span class="sxs-lookup"><span data-stu-id="2bbec-114">Additionally, they can capture the customer's preference about receiving marketing information via any of those secondary email addresses or phone numbers.</span></span> <span data-ttu-id="2bbec-115">For at aktivere denne egenskab skal detailforretninger aktivere funktionen **Hent flere e-mails og telefonnumre og accept af marketing på disse kontaktpersoner** i arbejdsområdet til **Funktionsstyring** i Commerce Headquarters (**Systems administration \> Workspaces \> Funktionsstyring**).</span><span class="sxs-lookup"><span data-stu-id="2bbec-115">To enable this capability, retailers must turn on the **Capture multiple emails and phone numbers and consent for marketing on these contacts** feature in the **Feature management** workspace in Commerce headquarters (**Systems administration \> Workspaces \> Feature management**).</span></span>

## <a name="default-customer-properties"></a><span data-ttu-id="2bbec-116">Standardegenskaberne for debitorer</span><span class="sxs-lookup"><span data-stu-id="2bbec-116">Default customer properties</span></span>

<span data-ttu-id="2bbec-117">Detailhandlende kan bruge siden **Alle butikker i Commerce headquarters** (**Retail og Commerce \> Kanaler \> Butikker**) til at knytte en standardkunde til hver butik.</span><span class="sxs-lookup"><span data-stu-id="2bbec-117">Retailers can use the **All stores** page in Commerce headquarters (**Retail and Commerce \> Channels \> Stores**) to associate a default customer with each store.</span></span> <span data-ttu-id="2bbec-118">Derefter kopieres de egenskaber, der er defineret for standardkunden, til alle nye kundeposter, der oprettes.</span><span class="sxs-lookup"><span data-stu-id="2bbec-118">Commerce then copies the properties that are defined for the default customer to all new customer records that are created.</span></span> <span data-ttu-id="2bbec-119">I dialogboksen vises f.eks. **Opret debitor** egenskaber, der er nedarvet fra den standardkunde, der er tilknyttet butikken.</span><span class="sxs-lookup"><span data-stu-id="2bbec-119">For example, the **Create customer** dialog box shows properties that are inherited from the default customer that is associated with the store.</span></span> <span data-ttu-id="2bbec-120">Disse egenskaber omfatter **debitortype**, **debitorgruppe**, **kvitteringsindstilling**, **kvitteringsmail**, **valuta** og **sprog**.</span><span class="sxs-lookup"><span data-stu-id="2bbec-120">Those properties include the **customer type**, **customer group**, **receipt option**, **receipt email**, **currency**, and **language**.</span></span> <span data-ttu-id="2bbec-121">Alle **tilknytninger** (kundegrupper) nedarves også fra standardkunden.</span><span class="sxs-lookup"><span data-stu-id="2bbec-121">Any **affiliations** (groupings of customers) are also inherited from the default customer.</span></span> <span data-ttu-id="2bbec-122">**Økonomiske dimensioner** nedarves dog fra den debitorgruppe, der er tilknyttet standarddebitoren, ikke fra selve standarddebitoren.</span><span class="sxs-lookup"><span data-stu-id="2bbec-122">However, **financial dimensions** are inherited from the customer group that is associated with the default customer, not from the default customer itself.</span></span>

> [!NOTE]
> <span data-ttu-id="2bbec-123">Værdien for **kvitteringsmailen** kopieres kun fra standardkunden, hvis kvitteringsmail-id'et ikke er angivet for de nyoprettede kunder.</span><span class="sxs-lookup"><span data-stu-id="2bbec-123">The **receipt email** value gets copied from the default customer only if the receipt email ID is not provided for the newly created customers.</span></span> <span data-ttu-id="2bbec-124">Det betyder, at hvis kvitteringsmail-id'et findes for standardkunden, får alle de kunder, der oprettes fra e-handelswebstedet, det samme kvitteringsmail-id, da der ikke er nogen brugergrænseflade, hvor kvitteringsmail-id'et kan hentes fra kunden.</span><span class="sxs-lookup"><span data-stu-id="2bbec-124">This means that if the receipt email ID is present on the default customer, then all the customers created from the e-commerce site will get the same receipt email ID as there is no user interface to capture the receipt email ID from the customer.</span></span> <span data-ttu-id="2bbec-125">Vi anbefaler, at du lader feltet for **kvitteringsmail** være tomt for butikkens standardkunde og kun bruger det, hvis du har en forretningsproces, der afhænger af, at der findes en kvitteringsmailadresse.</span><span class="sxs-lookup"><span data-stu-id="2bbec-125">We recommend that you to keep the **receipt email** field empty for the default customer of the store and only use it if you have a business process that depends on a receipt email address being present.</span></span> 

<span data-ttu-id="2bbec-126">Salgsmedarbejdere kan hente flere adresser for en kunde.</span><span class="sxs-lookup"><span data-stu-id="2bbec-126">Sales associates can capture multiple addresses for a customer.</span></span> <span data-ttu-id="2bbec-127">Kundens navn og telefonnummer nedarves fra de kontaktoplysninger, der er tilknyttet hver enkelt adresse.</span><span class="sxs-lookup"><span data-stu-id="2bbec-127">The customer's name and phone number are inherited from the contact information that is associated with each address.</span></span> <span data-ttu-id="2bbec-128">Oversigtspanelet **Adresser** for en kundepost indeholder et **Formål**-felt, som salgsmedarbejdere kan redigere.</span><span class="sxs-lookup"><span data-stu-id="2bbec-128">The **Addresses** FastTab of a customer record includes a **Purpose** field that sales associates can edit.</span></span> <span data-ttu-id="2bbec-129">Hvis debitortypen er **Person**, er standardværdien **Startside**.</span><span class="sxs-lookup"><span data-stu-id="2bbec-129">If the customer type is **Person**, the default value is **Home**.</span></span> <span data-ttu-id="2bbec-130">Hvis debitortypen er **Organisation**, er standardværdien **Virksomhed**.</span><span class="sxs-lookup"><span data-stu-id="2bbec-130">If the customer type is **Organization**, the default value is **Business**.</span></span> <span data-ttu-id="2bbec-131">Af andre værdier, der understøttes i dette felt kan nævnes **Startside**, **Kontor** og **Bogfør boks**.</span><span class="sxs-lookup"><span data-stu-id="2bbec-131">Other values that this field supports include **Home**, **Office**, and **Post box**.</span></span> <span data-ttu-id="2bbec-132">Værdien i feltet **Land** for en adresse nedarves fra den primære adresse, der er angivet på siden **Driftsenhed** i Commerce Headquarters hos **Organisationsadministration \> Organisationer \> Driftsenheder**.</span><span class="sxs-lookup"><span data-stu-id="2bbec-132">The value of the **Country** field for an address is inherited from the primary address that is specified on the **Operating unit** page in Commerce headquarters at **Organization administration \> Organizations \> Operating units**.</span></span>

## <a name="sync-customers-and-async-customers"></a><span data-ttu-id="2bbec-133">Synkronisere kunder og Async-kunder</span><span class="sxs-lookup"><span data-stu-id="2bbec-133">Sync customers and Async customers</span></span>

<span data-ttu-id="2bbec-134">Inden for handel findes der to kundeoprettelsesmåder: Synkron (eller Sync) og asynkron (eller Async).</span><span class="sxs-lookup"><span data-stu-id="2bbec-134">In Commerce, there are two modes of customer creation: Synchronous (or Sync) and Asynchronous (or Async).</span></span> <span data-ttu-id="2bbec-135">Kunder oprettes som standard synkront.</span><span class="sxs-lookup"><span data-stu-id="2bbec-135">By default, customers are created synchronously.</span></span> <span data-ttu-id="2bbec-136">Det vil sige, at de oprettes i Commerce Headquarters i realtid.</span><span class="sxs-lookup"><span data-stu-id="2bbec-136">In other words, they are created in Commerce headquarters in real time.</span></span> <span data-ttu-id="2bbec-137">Det er en fordel at synkronisere kundeoprettelsestilstanden, fordi nye kunder med det samme kan søges på tværs af kanaler.</span><span class="sxs-lookup"><span data-stu-id="2bbec-137">The Sync customer creation mode is beneficial because new customers are immediately searchable across channels.</span></span> <span data-ttu-id="2bbec-138">Det har dog også noget at gøre.</span><span class="sxs-lookup"><span data-stu-id="2bbec-138">However, it also has a drawback.</span></span> <span data-ttu-id="2bbec-139">Da den genererer [Commerce Data Exchange: Realtidsserviceopkald](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) til Commerce Headquarters, kan ydeevnen påvirkes, hvis der foretages mange samtidige opkald til oprettelse af kunder.</span><span class="sxs-lookup"><span data-stu-id="2bbec-139">Because it generates [Commerce Data Exchange: Real-time Service](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) calls to Commerce headquarters, performance can be affected if many concurrent customer creation calls are made.</span></span>

<span data-ttu-id="2bbec-140">Hvis indstillingen **Opret kunde i async-tilstand** er angivet til **Ja** i butikkens funktionalitetsprofil (**Retail og Commerce \> Konfiguration af kanal \> Konfiguration af onlinebutik \> Funktionalitetsprofiler**), bruges Realtidsserviceopkald ikke til at oprette kundeposter i kanaldatabasen.</span><span class="sxs-lookup"><span data-stu-id="2bbec-140">If the **Create customer in async mode** option is set to **Yes** in the store's functionality profile (**Retail and Commerce \> Channel setup \> Online store setup \> Functionality profiles**), Real-time Service calls aren't used to create customer records in the channel database.</span></span> <span data-ttu-id="2bbec-141">Oprettelsestilstanden Async-debitor har ingen indflydelse på Commerce Headquarters-performance.</span><span class="sxs-lookup"><span data-stu-id="2bbec-141">The Async customer creation mode doesn't affect the performance of Commerce headquarters.</span></span> <span data-ttu-id="2bbec-142">Der tildeles et midlertidigt globalt entydigt id til alle nye Async-debitorkonti og bruges som debitorkonto-id.</span><span class="sxs-lookup"><span data-stu-id="2bbec-142">A temporary globally unique identifier (GUID) is assigned to every new Async customer record and used as the customer account ID.</span></span> <span data-ttu-id="2bbec-143">Dette GUID-navn vises ikke til kassebrugere.</span><span class="sxs-lookup"><span data-stu-id="2bbec-143">This GUID isn't shown to POS users.</span></span> <span data-ttu-id="2bbec-144">Disse brugere får i stedet vist **Ventende synkronisering** som debitorkonto-id'et.</span><span class="sxs-lookup"><span data-stu-id="2bbec-144">Instead, those users will see **Pending sync** as the customer account ID.</span></span> <span data-ttu-id="2bbec-145">Selvom denne konfiguration tvinger kunderne til at blive oprettet asynkront, bemærker du, at redigering af kundeposter altid sker synkront.</span><span class="sxs-lookup"><span data-stu-id="2bbec-145">Although this configuration forces customers to be created asynchronously, note that edits to customer records are always done synchronously.</span></span>

### <a name="convert-async-customers-to-sync-customers"></a><span data-ttu-id="2bbec-146">Konverter Async-kunder til Sync-kunder</span><span class="sxs-lookup"><span data-stu-id="2bbec-146">Convert Async customers to Sync customers</span></span>

<span data-ttu-id="2bbec-147">Hvis du vil konvertere Async-kunder til Sync-kunder, skal du først køre P-jobbet for at sende Async-kunder til Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="2bbec-147">To convert Async customers to Sync customers, you must first run the P-job to send the Async customers to Commerce headquarters.</span></span> <span data-ttu-id="2bbec-148">Kør derefter jobbet **Synkroniser kunder og forretningspartnere fra async-tilstand** for at oprette debitorkonto-id'er.</span><span class="sxs-lookup"><span data-stu-id="2bbec-148">Then run the **Synchronize customers and business partners from async mode** job to create customer account IDs.</span></span> <span data-ttu-id="2bbec-149">Endelig skal du køre jobbet **1010** for at synkronisere de nye kundekonto-id'er med kanalerne.</span><span class="sxs-lookup"><span data-stu-id="2bbec-149">Finally, run the **1010** job to sync the new customer account IDs to the channels.</span></span>

### <a name="async-customer-limitations"></a><span data-ttu-id="2bbec-150">Async-kundebegrænsninger</span><span class="sxs-lookup"><span data-stu-id="2bbec-150">Async customer limitations</span></span>

<span data-ttu-id="2bbec-151">Funktionaliteten Async customer har i øjeblikket følgende begrænsninger:</span><span class="sxs-lookup"><span data-stu-id="2bbec-151">The Async customer functionality currently has the following limitations:</span></span>

- <span data-ttu-id="2bbec-152">Async-debitorposter kan ikke redigeres, medmindre kunden er oprettet i Commerce Headquarters, og det nye debitorkonto-id er synkroniseret tilbage til kanalen.</span><span class="sxs-lookup"><span data-stu-id="2bbec-152">Async customer records can't be edited unless the customer has been created in Commerce headquarters and the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="2bbec-153">Tilknytninger kan ikke knyttes til Async-kunder.</span><span class="sxs-lookup"><span data-stu-id="2bbec-153">Affiliations can't be associated with Async customers.</span></span> <span data-ttu-id="2bbec-154">Nye Async-kunder arver derfor ikke tilknytninger fra standardkunden.</span><span class="sxs-lookup"><span data-stu-id="2bbec-154">Therefore, new Async customers don't inherit affiliations from the default customer.</span></span>
- <span data-ttu-id="2bbec-155">Fordelskundekort kan ikke udstedes til Async-kunder, medmindre det nye debitorkonto-id er synkroniseret tilbage til kanalen.</span><span class="sxs-lookup"><span data-stu-id="2bbec-155">Loyalty cards can't be issued to Async customers unless the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="2bbec-156">Sekundære e-mail-adresser og telefonnumre kan ikke registreres for Async-kunder.</span><span class="sxs-lookup"><span data-stu-id="2bbec-156">Secondary email addresses and phone numbers can't be captured for Async customers.</span></span>

### <a name="customer-creation-in-pos-offline-mode"></a><span data-ttu-id="2bbec-157">Kundeoprettelse i POS-offlinetilstand</span><span class="sxs-lookup"><span data-stu-id="2bbec-157">Customer creation in POS offline mode</span></span>

<span data-ttu-id="2bbec-158">Hvis POS går offline, mens oprettelsestilstanden Async-debitor er aktiveret, oprettes nye kundeposter asynkront.</span><span class="sxs-lookup"><span data-stu-id="2bbec-158">If the POS goes offline while the Async customer creation mode is enabled, new customer records are created asynchronously.</span></span> <span data-ttu-id="2bbec-159">Hvis POS skifter til offline, mens oprettelsestilstanden Async-debitor deaktiveres, skifter systemet automatisk til oprettelsestilstanden Async-debitor.</span><span class="sxs-lookup"><span data-stu-id="2bbec-159">If the POS goes offline while the Async customer creation mode is disabled, the system automatically switches to the Async customer creation mode.</span></span> <span data-ttu-id="2bbec-160">Det vil sige, at kundeposter kan oprettes asynkront, selv når oprettelsestilstanden Async-debitor er deaktiveret.</span><span class="sxs-lookup"><span data-stu-id="2bbec-160">In other words, customer records might be created asynchronously even if the Async customer creation mode is disabled.</span></span> <span data-ttu-id="2bbec-161">Derfor skal administratorer af Commerce Headquarters oprette og planlægge et tilbagevendende batchjob til P-jobbet, **synkroniser kunder og forretningspartnere fra jobbet med async-tilstand** og **1010**-jobbet, så alle Async-kunder konverteres til Sync-kunder i Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="2bbec-161">Therefore, Commerce headquarters administrators must create and schedule a recurring batch job for the P-job, the **Synchronize customers and business partners from async mode** job, and the **1010** job, so that any Async customers are converted to Sync customers in Commerce headquarters.</span></span>

> [!NOTE]
> <span data-ttu-id="2bbec-162">Hvis indstillingen **Filtrering af delte kundedatatabeller** er angivet til **Ja** på siden **Commerce channel-skema** (**Retail og Commerce \> Headquarters setup \> Commerce-planlægger \> Kanaldatabasegruppe**), er kundeposter ikke oprettet i POS-offline-tilstand.</span><span class="sxs-lookup"><span data-stu-id="2bbec-162">If the **Filter shared customer data tables** option is set to **Yes** on the **Commerce channel schema** page (**Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Channel database group**), customer records aren't created in POS offline mode.</span></span> <span data-ttu-id="2bbec-163">Du kan finde flere oplysninger under [Offline-dataudelukkelser](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span><span class="sxs-lookup"><span data-stu-id="2bbec-163">For more information, see [Offline data exclusion](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="2bbec-164">Yderligere ressourcer</span><span class="sxs-lookup"><span data-stu-id="2bbec-164">Additional resources</span></span>

[<span data-ttu-id="2bbec-165">Debitorattributter</span><span class="sxs-lookup"><span data-stu-id="2bbec-165">Customer attributes</span></span>](dev-itpro/customer-attributes.md)

[<span data-ttu-id="2bbec-166">Offline-dataudelukkelse</span><span class="sxs-lookup"><span data-stu-id="2bbec-166">Offline data exclusion</span></span>](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion)
